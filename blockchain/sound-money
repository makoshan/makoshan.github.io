<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">

    <!-- CSS+JS inline for speed -->
    <style id="inlined-styles-colors">
:root {
    /*  General.
        */
    --GW-body-background-color: #fff;
    --GW-body-text-color: #000;
    --GW-body-link-color: #272727;
    --GW-body-link-hover-color: #888;

    /*  Selection.
        */
    --GW-text-selection-background-color: #333;
    --GW-text-selection-color: #fff;

    /*  Link underlining.
        */
    --GW-link-underline-background-color: var(--GW-body-background-color);
    --GW-link-underline-gradient-line-color: #333;
    --GW-link-underline-gradient-line-color-hover: #999;

    /*  Blockquotes.
        */
    --GW-blockquote-border-color-level-one: #ccc;
    --GW-blockquote-border-color-level-two: #c4c4c4;
    --GW-blockquote-border-color-level-three: #b3b3b3;
    --GW-blockquote-border-color-level-four: #a6a6a6;
    --GW-blockquote-background-color-level-one: #f8f8f8;
    --GW-blockquote-background-color-level-two: #e6e6e6;
    --GW-blockquote-background-color-level-three: #d8d8d8;

    /*  Abstracts.
        */
    --GW-abstract-border-color: #bbb;
    --GW-abstract-background-color: var(--GW-blockquote-background-color-level-one);

    /*  Sidebar.
        */
    --GW-sidebar-horizontal-rule-color: #aaa;
    --GW-sidebar-mobile-link-border-color: #000;

    /*  Table of contents.
        */
    --GW-TOC-border-color: #ccc;
    --GW-TOC-background-color: #f8f8f8;
    --GW-TOC-link-hover-background-color: #ececec;
    --GW-TOC-link-hover-color: #000;
    --GW-TOC-link-hover-indicator-bar-color: #ccc;
    --GW-TOC-number-color: #909090;
    --GW-TOC-number-hover-color: #313131;

    /*  Collapse blocks.
        */
	--GW-collapse-summary-blockquote-hover-color: #eee;
	--GW-collapse-disclosure-button-color: #eee;
	--GW-collapse-disclosure-button-hover-color: #ddd;
	--GW-collapse-disclosure-button-top-part-text-color: #bbb;
	--GW-collapse-disclosure-button-bottom-part-text-color: #aaa;
	--GW-collapse-disclosure-button-text-hover-color: #fff;

    /*  Headings.
        */
    --GW-H1-box-shadow-background-color: var(--GW-body-background-color);
    --GW-H1-box-shadow-line-color: #888;
    --GW-H2-bottom-border-color: #888;

    /*  Comments.
        */
    --GW-comment-section-top-border-color: #999;

    /*  Lists.
        */
    --GW-bulleted-list-marker-color: #808080;

    /*  Figures.
        */
    --GW-figure-outline-color: #888;
    --GW-figure-caption-outline-color: #888;

    /*  Epigraphs.
        */
    --GW-epigraph-quotation-mark-color: #808080;

    /*  Footnotes.
        */
    --GW-footnote-border-color: #aaa;
    --GW-footnote-highlighted-border-color: #aaa;
    --GW-footnotes-section-top-rule-color: #ccc;
    --GW-footnote-backlink-border-color: #000;
    --GW-footnote-backlink-border-hover-color: #999;
    --GW-footnote-backlink-after-bordered-block-background-color: var(--GW-body-background-color);

    /*  Footnote references.
        */
    --GW-footnote-ref-highlight-box-shadow-color: #aaa;
    --GW-footnote-ref-highlight-background-color: rgba(255,255,255,0.75);

    /*  Sidenotes.
        */
    --GW-sidenote-highlight-background-color: var(--GW-body-background-color);
    --GW-sidenote-highlight-box-shadow-color: #aaa;
    --GW-sidenote-border-color: #aaa;
    --GW-sidenote-scrollbar-track-color: var(--GW-body-background-color);
    --GW-sidenote-scrollbar-thumb-color: #aaa;
    --GW-sidenote-scrollbar-thumb-hover-color: #999;
    --GW-sidenote-self-link-border-color: #aaa;

    /*  Tables.
        */
    --GW-table-border-color: #000;
    --GW-table-full-width-background-color: var(--GW-body-background-color);
    --GW-table-caption-border-color: #000;
    --GW-table-row-horizontal-border-color: #000;
    --GW-table-cell-vertical-border-color: var(--GW-body-background-color);
    --GW-table-scrollbar-track-color: var(--GW-body-background-color);
    --GW-table-scrollbar-thumb-color: #aaa;
    --GW-table-scrollbar-thumb-hover-color: #999;
    --GW-table-scrollbar-border-color: #000;
    --GW-table-column-heading-hover-background-color: #e2f0f2;
    --GW-table-sorted-column-heading-background-color: #8bd0ed;
    --GW-table-sorted-column-heading-text-color: #fff;
    --GW-table-sorted-column-heading-text-shadow-color: #000;
    --GW-table-zebra-stripe-alternate-row-background-color: #f6f6f6;
    --GW-table-row-hover-outline-color: #000;

    /*  Code blocks.
        */
    --GW-code-element-border-color: #c8c8c8;
    --GW-code-element-background-color: #fafafa;
    --GW-pre-element-border-color: #c8c8c8;
    --GW-pre-element-background-color: #fafafa;
    --GW-pre-element-scrollbar-track-color: #fafafa;
    --GW-pre-element-scrollbar-thumb-color: #ccc;
    --GW-pre-element-scrollbar-thumb-hover-color: #999;

    /*  Syntax highlight theme.
        */
    --GW-syntax-highlight-color-normal: #1f1c1b;
    --GW-syntax-highlight-color-attribute: #002561;
    --GW-syntax-highlight-color-data-type: inherit;
    --GW-syntax-highlight-color-variable: #666666;
    --GW-syntax-highlight-color-other: inherit;
    --GW-syntax-highlight-color-preprocessor: inherit;
    --GW-syntax-highlight-color-extension: #888888;
    --GW-syntax-highlight-color-comment: #888888;
    --GW-syntax-highlight-color-control-flow: #003900;
    --GW-syntax-highlight-color-keyword: #002561;
    --GW-syntax-highlight-color-operator: #002561;
    --GW-syntax-highlight-color-special-char: #607880;
    --GW-syntax-highlight-color-built-in: #002561;
    --GW-syntax-highlight-color-function: #002561;
    --GW-syntax-highlight-color-constant: inherit;
    --GW-syntax-highlight-color-base-n: inherit;
    --GW-syntax-highlight-color-dec-val: inherit;
    --GW-syntax-highlight-color-float: inherit;
    --GW-syntax-highlight-color-information: inherit;
    --GW-syntax-highlight-color-char: inherit;
    --GW-syntax-highlight-color-string: inherit;
    --GW-syntax-highlight-color-verbatim-string: inherit;
    --GW-syntax-highlight-color-alert: #bf0303;
    --GW-syntax-highlight-color-error: #ff0000;
    --GW-syntax-highlight-color-import: #777777;
    --GW-syntax-highlight-color-special-string: #666666;

    /*  Math.
        */
    --GW-math-block-background-color: #f6f6f6;
    --GW-math-block-scrollbar-border-color: #ccc;
    --GW-math-block-scrollbar-track-color: var(--GW-body-background-color);
    --GW-math-block-scrollbar-thumb-color: #ccc;
    --GW-math-block-scrollbar-thumb-hover-color: #999;

    /*  Drop caps.
        */
    --GW-drop-caps-yinit-color: #0d0d0d;
    --GW-drop-caps-yinit-text-shadow-color: #777;
    --GW-drop-caps-de-zs-color: #1b1b1b;
    --GW-drop-caps-cheshire-color: #191919;
    --GW-drop-caps-kanzlei-color: #191919;

    /*  Admonitions.
        */
    --GW-admonition-default-left-border-color: #909090;
    --GW-admonition-default-background-color: #d8d8d8;
    --GW-admonition-tip-left-border-color: #d8d8d8;
    --GW-admonition-tip-background-color: #f0f0f0;
    --GW-admonition-warning-left-border-color: #5a5a5a;
    --GW-admonition-warning-background-color: #9a9a9a;
    --GW-admonition-warning-text-color: #fff;
    --GW-admonition-warning-title-background-color: #5a5a5a;
    --GW-admonition-warning-icon-color: #fff;
    --GW-admonition-error-left-border-color: #2d2d2d;
    --GW-admonition-error-background-color: #5a5a5a;
    --GW-admonition-error-text-color: #fff;
    --GW-admonition-error-title-background-color: #2d2d2d;
    --GW-admonition-error-icon-color: #fff;
    --GW-admonition-reversed-link-color: #ddd;
    --GW-admonition-reversed-link-color-hover: #ccc;
    --GW-admonition-reversed-link-underline-gradient-line-color: #ccc;
    --GW-admonition-reversed-link-underline-gradient-line-color-hover: #bbb;
    --GW-admonition-reversed-footnote-ref-highlight-background-color: rgba(90,90,90,0.75);

    /*  Sequential nav UI.
        */
    --GW-sequential-nav-link-background-color: var(--GW-body-background-color);

    /*  Page-specific styles.
        */
    --GW-index-page-bottom-ornament-line-color: #808080;

	/*	Pop-frames (popups or popins).
		*/
    --GW-raw-code-popframe-line-highlight-background-color: #ffd;
    --GW-raw-code-popframe-line-hightlight-border-color: #ddd;
    --GW-raw-code-popframe-line-number-color: #aaa;
    --GW-raw-code-popframe-line-number-divider-color: #ccc;

    /*  Popups.
        */
    --GW-popups-body-background-color: var(--GW-body-background-color);
    --GW-popups-popup-background-color: var(--GW-body-background-color);

    --GW-popups-popup-border-color: #ccc;
    --GW-popups-box-shadow-color: #ccc;
    --GW-popups-popup-border-focused-color: #aaa;
    --GW-popups-box-shadow-focused-color: #aaa;

    --GW-popups-popup-title-bar-background-color: #f6f6f6;
    --GW-popups-popup-title-bar-button-color: #bbb;
    --GW-popups-popup-title-bar-button-color-hover: #000;
	--GW-popups-popup-title-color: #aaa;
    --GW-popups-popup-title-link-hover-color: var(--GW-body-link-hover-color);
    --GW-popups-popup-title-bar-background-focused-color: #e6e6e6;
    --GW-popups-popup-title-bar-button-focused-color: #777;
    --GW-popups-popup-title-bar-button-focused-color-hover: #000;
    --GW-popups-popup-title-bar-submenu-box-shadow-color: #ddd;
	--GW-popups-popup-title-focused-color: #000;
    --GW-popups-popup-title-link-hover-focused-color: var(--GW-body-link-hover-color);

    --GW-popups-popup-scrollbar-track-color: var(--GW-body-background-color);

    --GW-popups-popup-scrollbar-thumb-color: #ddd;
    --GW-popups-popup-scrollbar-thumb-hover-color: #bbb;
    --GW-popups-popup-scrollbar-thumb-focused-color: #ccc;
    --GW-popups-popup-scrollbar-thumb-hover-focused-color: #999;

    --GW-popups-popup-options-dialog-backdrop-background-color: rgba(255,255,255,0.95);
    --GW-popups-popup-options-dialog-background-color: var(--GW-body-background-color);
    --GW-popups-popup-options-dialog-border-color: #aaa;
    --GW-popups-popup-options-dialog-box-shadow-color: #444;
    --GW-popups-popup-options-dialog-horizontal-rule-color: #ccc;
    --GW-popups-popup-options-dialog-button-background-color: var(--GW-body-background-color);
    --GW-popups-popup-options-dialog-button-text-color: #000;
    --GW-popups-popup-options-dialog-button-border-color: #000;
    --GW-popups-popup-options-dialog-button-hover-box-shadow-color: #000;
    --GW-popups-popup-options-dialog-option-button-explanation-text-color: #777;
    --GW-popups-popup-options-dialog-option-button-hover-text-color: #777;
    --GW-popups-popup-options-dialog-radio-button-border-color: #000;
    --GW-popups-show-popup-options-dialog-button-color: #999;

    /*  Popins.
        */
    --GW-popins-body-background-color: var(--GW-body-background-color);
    --GW-popins-popin-background-color: var(--GW-body-background-color);
    --GW-popins-popin-border-color: #aaa;
    --GW-popins-box-shadow-color: #aaa;
    --GW-popins-popin-title-bar-background-color: #fff;
    --GW-popins-popin-title-bar-button-color: #777;
    --GW-popins-popin-scrollbar-thumb-color: #ccc;
    --GW-popins-popin-scrollbar-track-color: var(--GW-body-background-color);
    --GW-popins-popin-scrollbar-thumb-hover-color: #999;
    --GW-popins-popin-stack-counter-text-color: #fff;

    /*  Image focus.
        */
    --GW-image-focus-image-hover-drop-shadow-color: #777;

    /*  Mode selector (light/dark mode).
        */
    --GW-mode-selector-background-color: var(--GW-body-background-color);
    --GW-mode-selector-border-hover-color: #aaa;
    --GW-mode-selector-button-text-color: #777;
    --GW-mode-selector-button-hover-text-color: #000;

	/*	“Back to top” link.
		*/
	--GW-back-to-top-link-color: #ccc;
	--GW-back-to-top-link-hover-color: #999;
}
</style>
<style id="inlined-styles">
/*********/
/* FONTS */
/*********/
/* fonts are now loaded from /static/css/fonts.css */

/**********/
/* COLORS */
/**********/
/* colors are now in /static/css/colors.css or dark-mode.css */

/*************/
/* VARIABLES */
/*************/

:root {
    --GW-serif-font-stack: "Source Serif Pro",  "Apple Garamond", "Baskerville", "Libre Baskerville", "Times New Roman", "Droid Serif", "Times", serif;
    --GW-sans-serif-font-stack: "Lucida Sans Unicode", "Source Sans Pro", Helvetica, "Trebuchet MS", sans-serif;
    --GW-monospaced-font-stack: "IBM Plex Mono", "Liberation Mono", Consolas, Courier, monospace;

    --GW-body-text-font-size: 1rem;
}

/***********/
/* GENERAL */
/***********/

html {
    padding: 0;
    margin: 0;
    background-color: var(--GW-body-background-color);
    color: var(--GW-body-text-color);
    font-size: 20px;
    font-weight: 400;
    font-family: var(--GW-serif-font-stack);
}

body {
    max-width: 1120px;

    font-size: var(--GW-body-text-font-size);
}

@media only screen and (max-width: 649px) {
    html {
        font-size: 18px;
    }
}

@media only screen and (min-width: 650px) {
    body {
        padding: 0 25px 0 5px;
        margin: 0 auto;
    }
    @media only screen and (min-width: 1185px) {
        body {
            padding: 0 60px 0 5px;
        }
    }
    main {
        min-height: 100vh;
        display: flex;
        flex-flow: column;
    }
    /*  Breakpoint for sidenotes.
        */
    @media only screen and (min-width: 1761px) {
        main {
            position: relative;
            right: 40px;
        }
    }
    article {
        flex: 1 1 auto;
    }
    #sidebar {
        position: absolute;
    }
    header,
    article {
        margin-left: 155px;
    }
    @media only screen and (max-width: 1200px) {
        header,
        article {
            margin-left: 145px;
        }
    }
    @media only screen and (max-width: 1120px) {
        header,
        article {
            margin-left: 140px;
        }
    }
    @media only screen and (max-width: 1040px) {
        header,
        article {
            margin-left: 135px;
        }
    }
    @media only screen and (max-width: 960px) {
        header,
        article {
            margin-left: 130px;
        }
    }
}

@media only screen and (max-width: 649px) {
    body {
        margin: 0 20px;
    }
}

svg {
    fill: currentColor;
}

/***********/
/* SIDEBAR */
/***********/

#sidebar a {
    display: block;
}

@media only screen and (min-width: 650px) {
    #sidebar {
        font-variant: small-caps;
        padding: 0 40px 0 10px;
        width: 100px;
    }
    #sidebar a#logo {
        margin: 1em 0 2em 0;
    }
    #sidebar a#logo svg {
        width: 64px;
    }
    #sidebar a.new,
    #sidebar a.patreon {
        border-top: 1px dotted var(--GW-sidebar-horizontal-rule-color);
    }
    #sidebar a.new {
        padding-top: 0.45em;
        margin-top: 0.55em;
    }
    #sidebar a.patreon {
        padding-top: 0.6em;
        margin-top: 0.55em;
        font-size: 0.9em;
        white-space: nowrap;
        line-height: 1.35;
    }
}

@media only screen and (max-width: 649px) {
    #sidebar {
        justify-content: center;
        margin: 1.4em 0 0.5em 0;
    }
    #sidebar a {
        border: 1px dotted var(--GW-sidebar-mobile-link-border-color);
        padding: 4px 10px 3px 10px;
        text-align: center;
        margin: 1px;
    }
    #sidebar a#logo {
        padding: 8px 5px 3px 5px;
    }
    #sidebar,
    #sidebar-links {
        display: flex;
    }
    #sidebar-links {
        flex-flow: row wrap;
        flex: 1 1 100%;
        margin: 0.5em 0 0 0;
    }
    #sidebar a.site,
    #sidebar a.links {
        flex: 1 1 40%;
    }
    #sidebar a.new,
    #sidebar a.mail {
        flex: 1 1 auto;
    }
    #sidebar a.patreon {
        display: none;
    }
    #sidebar #logo {
        margin: calc(0.5em + 1px) 1px 1px 0;
    }
    #sidebar #logo svg {
        width: 2.5rem;
    }
}

/***************/
/* PAGE HEADER */
/***************/

header {
    overflow: auto;
}

header h1 {
    margin: 0.75em 0;
    text-align: center;
    text-transform: none;
    font-variant: small-caps;
    font-size: 2.5em;
    line-height: 1.15;
    font-weight: 600;
    letter-spacing: -1px;
}

@media only screen and (max-width: 649px) {
    header h1 {
        font-size: 2em;
    }
}

/***********************/
/* PAGE METADATA BLOCK */
/***********************/

@media only screen and (max-width: 649px) {
    #page-metadata {
        text-align: center;
    }
}

#page-metadata hr {
    display: none;
}

#page-metadata {
    margin: 0 0 2rem 0;
    overflow: auto;
    font-size: 0.95em;
    line-height: 1.5;
}
#page-metadata p {
    text-align: left;
}

/* Override normal handling of italics: before, we wrapped descriptions in `<em>`; however, they compile to HTML which can contain italics of their own (eg book titles). This causes HTML Tidy to warn about nested italics (which is valid HTML but *usually* means you've made an error - this often triggers when I mess up bolding, for example, like on /GPT-3 ). So we removed the wrapper in favor of the above `font-style: italic`. However, now the titles don't unitalicize automatically like they would for nested italics! So we force italicized titles back to normal Roman font to match the expected typographic convention. */
#page-metadata #page-description {
    display: block;
    margin: 0 auto 0.75em auto;
    font-style: italic;
    text-align: justify;
}
#page-metadata #page-description em {
    font-style: normal;
}

#page-metadata #page-description ~ * {
    font-size: 0.9em;
}

#page-metadata #page-description + br {
    display: none;
}

#page-metadata-block span:nth-of-type(n+3) {
    white-space: nowrap;
}

/* interpunct separators for the metadata fields; looks nicer than semicolons or slashes */
#page-metadata-block > span:not(:last-child)::after {
    content: "\00B7"; /* interpunct MIDDLE DOT (U+00B7) '·' */
    display: inline-block;
    margin: 0 0.35em 0 0.65em;
}

#page-tags,
#page-metadata-block {
    hyphens: none;
}

/*=--------=*/
/*= /index =*/
/*=--------=*/

/* on the index page, we hide article-related formatting, begging, comments, to make it more compact & classy */
body.index #sidebar a.patreon,
body.tags #sidebar a.patreon,
body.index #TOC,
body.index #page-metadata,
body.index #comments,
body.index #disqus_thread,
body.index header {
    display: none;
}

/*  No index self-link. */
body.index #sidebar a#logo {
    pointer-events: none;
}

/*  Make the sections reflow; better than fixed-width tables. */
body.index article section {
    display: inline-block;
    vertical-align: top;
}

/*  Abstract is not a real abstract, just an introduction, no need for the abstract formatting.
    */
body.index .abstract {
    padding: 0;
    border: none;
    margin: 0;
    box-shadow: none;
}

@media only screen and (min-width: 1200px) {
    /*  Leave enough horizontal room to show multiple sections simultaneously, table-like */
    body.index #markdownBody {
        width: 1350px;
        max-width: calc(50vw + 420px);
    }
    body.index p,
    body.index hr {
        max-width: 970px;
    }
}

/*  Add some vertical padding for the introduction.
    */
body.index #markdownBody {
    padding-top: 15px;
}

/*  Headings on the home page.
    */
body.index #markdownBody h1 {
    margin: 1.125em 0 0 0;
}

/*  Lists on the home page.
    */
body.index #markdownBody li,
body.index #markdownBody li p {
    text-align: left;
}
body.index #markdownBody ul,
body.tags #markdownBody ul {
    margin: 1em 3em 0 0;
    padding: 0 0 0 1.375em;
}
body.index #markdownBody li > ul,
body.tags #markdownBody li > ul {
    margin: 0.25em 0 0.25em 0;
}
body.index #markdownBody li,
body.tags #markdownBody li {
    margin-top: 0;
}
body.index #markdownBody ul > li:nth-of-type(n+2) {
    margin: 0;
}


@media only screen and (max-width: 649px) {
    body.index #markdownBody section {
        max-width: 100%;
    }
    body.index #markdownBody ul,
    body.tags #markdownBody ul {
        overflow-wrap: break-word;
        margin-right: 0;
    }
    body.index #markdownBody li,
    body.tags #markdownBody li {
        padding: 1px 0;
        margin: 2px 0 0 0;
    }
    body.index #markdownBody ul > li::before,
    body.tags #markdownBody ul > li::before {
        top: 0.25em;
    }
}

/*********************/
/* TABLE OF CONTENTS */
/*********************/

#TOC {
    border: 1px solid var(--GW-TOC-border-color);
    background-color: var(--GW-TOC-background-color);
    font-family: var(--GW-sans-serif-font-stack);
    margin: 0 2rem 1.5rem 0;
    line-height: 1.25;
    padding: 10px 10px 2px 14px;
    position: relative;
    z-index: 11;
}

#TOC:empty {
    display: none;
}

/*  On mobile, we want the TOC to be inline, but for desktop, we want it side by side with the content.
    */
@media only screen and (max-width: 1280px) {
    #TOC {
        font-size: 0.95rem;
    }
}

@media only screen and (max-width: 1200px) {
    #TOC {
        font-size: 0.90rem;
    }
}

@media only screen and (max-width: 1120px) {
    #TOC {
        font-size: 0.85rem;
        margin: 0 1.5rem 1.25rem 0;
    }
}

@media only screen and (max-width: 1040px) {
    #TOC {
        font-size: 0.80rem;
        margin: 0 1.25rem 1rem 0;
    }
}

@media only screen and (max-width: 960px) {
    #TOC {
        margin: 0 1rem 1rem 0;
    }
}

@media only screen and (min-width: 900px) {
    #TOC {
        float: left;
        max-width: 285px;
    }
}

@media only screen and (max-width: 900px) {
    #TOC {
        float: none;
        margin: 2em auto;
        font-size: 1rem;
    }
    #TOC > ul > li > ul {
        column-count: 2;
    }
}

@media only screen and (max-width: 649px) {
    #TOC a {
        display: inline-block;
    }
    #TOC > ul > li > ul {
        column-count: 1;
    }
    #TOC li li a {
        padding: 0 0 1px 0;
    }
    #TOC li li li a {
        padding: 0 0 2px 0;
    }
    #TOC li li li li a {
        padding: 0 0 3px 0;
    }
    #TOC li li li li a {
        padding: 0 0 4px 0;
    }
}

/*=-----------------=*/
/*= TOC list layout =*/
/*=-----------------=*/

#TOC ul {
    list-style-type: none;
    padding-left: 0em;
    margin-bottom: 0;
    margin-top: 4px;
    padding-left: 1.4em;
    text-indent: 0;
    padding: 0;
    overflow: unset;
}

#TOC ul ul {
    list-style-type: none;
    padding-left: 0.7em;
    margin-top: 2px;
}

#TOC li {
    font-weight: bold;
    margin: 5px 0 10px 0;
    padding-left: 1.125em;
    position: relative;
    overflow-wrap: break-word;
}

#TOC li li {
    margin-bottom: 0;
    font-weight: normal;
    font-size: 0.9em;
}

#TOC p {
    margin-top: 9px;
    margin-bottom: 3px;
}

/*=------------------=*/
/*= TOC link styling =*/
/*=------------------=*/

#TOC a {
    border: 0;
    display: block;
    position: relative;
    padding: 0 0.25rem 0 0;
}

#TOC a:hover {
    background-color: var(--GW-TOC-link-hover-background-color);
    color: var(--GW-TOC-link-hover-color);
}
#TOC a:hover::after {
    content: "";
    display: inline-block;
    position: absolute;
    left: 100%;
    top: 0;
    background-color: var(--GW-TOC-link-hover-indicator-bar-color);
    width: 0.25em;
    height: 100%;
}

/*=--------------------------=*/
/*= Inline code in TOC links =*/
/*=--------------------------=*/

#TOC code {
    font-family: inherit;
    font-size: inherit;
    border: none;
    padding: 0;
    background-color: inherit;
}

/*=-------------------------------=*/
/*= Wikipedia-style TOC numbering =*/
/*=-------------------------------=*/

#TOC > ul {
    counter-reset: htoc_1;
}
#TOC > ul > li::before {
    counter-increment: htoc_1;
    content: counter(htoc_1) "\2006  ";
}
#TOC > ul ul {
    counter-reset: htoc_2;
}
#TOC > ul ul li::before {
    counter-increment: htoc_2;
    content: counter(htoc_1) "." counter(htoc_2) "\2006  ";
}
#TOC > ul ul ul {
    counter-reset: htoc_3;
}
#TOC > ul ul ul li::before {
    counter-increment: htoc_3;
    content: counter(htoc_1) "." counter(htoc_2) "." counter(htoc_3) "\2006  ";
}
#TOC > ul ul ul ul {
    counter-reset: htoc_4;
}
#TOC > ul ul ul ul li::before {
    counter-increment: htoc_4;
    content: counter(htoc_1) "." counter(htoc_2) "." counter(htoc_3) "." counter(htoc_4) "\2006  ";
}
#TOC > ul ul ul ul ul {
    counter-reset: htoc_5;
}
#TOC > ul ul ul ul ul li::before {
    counter-increment: htoc_5;
    content: counter(htoc_1) "." counter(htoc_2) "." counter(htoc_3) "." counter(htoc_4) "." counter(htoc_5) "\2006  ";
}
#TOC > ul ul ul ul ul ul {
    counter-reset: htoc_6;
}
#TOC > ul ul ul ul ul ul li::before {
    counter-increment: htoc_6;
    content: counter(htoc_1) "." counter(htoc_2) "." counter(htoc_3) "." counter(htoc_4) "." counter(htoc_5) "." counter(htoc_6) "\2006  ";
}
#TOC ul li::before {
    position: absolute;
    right: calc(100% - 1em);
    left: unset;
    width: 111px;
    text-align: right;
    font-weight: normal;
    pointer-events: none;
    color: var(--GW-TOC-number-color);
}
#TOC ul li:hover::before {
    color: var(--GW-TOC-number-hover-color);
}

/* The table of contents is a *table*, so align */
#TOC {
    font-variant-numeric: tabular-nums;
}

/****************/
/* MAIN CONTENT */
/****************/

.markdownBody {
    /*  Try to avoid scrollbars on paragraphs: prevents long unbroken
        un-hyphenatable lines from causing H-scrolling
        */
    overflow-wrap: break-word;
}

/*  Breakpoint for sidenotes.
    */
@media only screen and (min-width: 1761px) {
    #markdownBody {
        position: relative;
    }
}

@media only screen and (min-width: 650px) {
    @media only screen and (max-width: 1000px) {
    /*  Replaces A/B-test-set average value; the wider the screen, the more
        line-height is necessary, and no one size suits all, so set 3 brackets
        of increasing height.
        */
        .markdownBody {
            line-height: 1.50;
        }
    }
    @media only screen and (min-width: 1001px) and (max-width: 1200px) {
        .markdownBody {
            line-height: 1.55;
        }
    }
    @media only screen and (min-width: 1201px) {
        .markdownBody {
            line-height: 1.60;
        }
    }
}

/*  Use justified text (words get broken/hyphenated as necessary to avoid a
    'ragged margin'), undoing the default of 'flush left, ragged' right (see
    https://en.wikipedia.org/wiki/Typographic_alignment#Flush_left )
    */
.markdownBody p,
.markdownBody li {
    text-align: justify;
    -webkit-hyphens: auto;
    -ms-hyphens: auto;
    hyphens: auto;
}

/*  Cute 'old-style' numerals, look a little nicer inline in text, and available natively in the SS fonts:
    https://practicaltypography.com/alternate-figures.html#oldstyle-figures
    */
html {
    font-variant-numeric: oldstyle-nums;
}

.abstract > blockquote {
    margin: 0 0 1.5em 0;
    background-color: var(--GW-abstract-background-color);
    border-color: var(--GW-abstract-border-color);
    padding: 0.9rem 1.25rem 0.95rem 1.25rem;
    clear: none;
}

/* auto-smallcaps the first line of the introduction (= the first `<p>` after an 'abstract' div); this avoids the need to manually specify what to smallcaps, and it auto-adjusts to screen/line-width, which is nicer. */
.abstract + p::first-line,
#markdownBody > p:first-child::first-line,
.markdownBody #page-metadata + p::first-line {
    font-feature-settings: 'smcp';
}

h1 {
    margin: 0.6em 0 0.5em -0.75rem;
    font-weight: bold;
    position: relative;
}

@media only screen and (max-width: 649px) {
    h1 {
        margin: 1.25em 0 0.5em 0;
        padding-bottom: 2px;
    }
}

/*	Lazy-load below-fold sections in supported browsers.
	Disabled temporarily pending layout redesign to compensate for layout
	containment. —Obormot 2021-03-21
	*/
/*
section.level1:nth-of-type(n+4) {
	content-visibility: auto;
	contain-intrinsic-size: 200vh;
}
 */

/*=----------------=*/
/*= Heading levels =*/
/*=----------------=*/

h1 {
    font-feature-settings: 'smcp';
    font-size: 1.75em;
    line-height: 1.25;
    letter-spacing: -0.75px;
}

/*************/
/* SIDENOTES */
/*************/

/*  Hide sidenote columns on narrow viewports.
    */
@media only screen and (max-width: 1760px) {
    #sidenote-column-left,
    #sidenote-column-right {
        display: none;
    }
}

/*=--------------=*/
/*= Margin notes =*/
/*=--------------=*/

/*  On wide viewports, hide margin note until it is styled as a sidenote (i.e,
    until it gets the `.sidenote` class applied to it).
    */
@media only screen and (min-width: 1761px) {
    .marginnote {
        display: none;
    }
}

/*********/
/* LINKS */
/*********/

a {
    color: var(--GW-body-link-color); /* off-black */
    text-decoration: none;
}

/*=------------------------=*/
/*= Fancy link underlining =*/
/*=------------------------=*/

/*  Tufte CSS for underlining (https://github.com/edwardtufte/tufte-css)
    The advantage of all this CSS linenoise compared to the previous 'text-decoration: none; border-bottom: 1px Solid grey;' solution from http://devhints.wordpress.com/2006/10/24/css-links-with-different-color-underlines/
    is the 'skip-ink': when dealing with characters with 'descenders', like 'y', 'g', 'p', 'q' etc, with regular underlining the bottom stroke overlaps with the line and it's harder to read;
    by adding this text-shadow stuff and backgrounding, a little break is made in the underline to add contrast and keep the descender fully visible and outlined. (The downside is that the overlapping text-shadows can also slightly damage the rendering of slashes & parentheses, which come too close and get partially erased.)

    Unfortunately, we don't want to add underlines to links in the TOC because it clutters it (all the lines are links and are in small font), so we have to avoid styling the TOC, which is difficult.
    I got around this by adding in the Hakyll template an additional <div> just for the body of the Markdown content, excluding the TOC, and changing the Tufte CSS to target *that* instead.

May be able at some point to simplify this using regular link underlining, since CSS4's `text-decoration-skip-ink` by default avoids overlapping with text descenders (but as of Oct 2019, no Edge/IE or Safari support, and only the latest Firefox 70 supports it; maybe in a few years...): https://developer.mozilla.org/en-US/docs/Web/CSS/text-decoration-skip-ink#Browser_Compatibility https://www.caniuse.com/#feat=mdn-css_properties_text-decoration-skip-ink (Right now, Firefox skip-ink looks quite bad: it doesn't skip enough ink, defeating the point, and also positions the underline badly!)
*/

.markdownBody a:link,
div#footer a {
    text-decoration: none;
    background-image: linear-gradient(var(--GW-link-underline-gradient-line-color), var(--GW-link-underline-gradient-line-color));
    background-size: 1px 1px;
    background-repeat: repeat-x;
    background-position: 0% calc(100% - 0.1em);
	box-decoration-break: clone;

    /*  Disable oldstyle nums in underlined links because the oldstyle nums are almost subscript-like and overlap */
    font-variant-numeric: lining-nums;
}
.markdownBody a:link,
.markdownBody a:link * {
    text-shadow:
         0      0.05em  var(--GW-link-underline-background-color),
         0.05em 0.05em  var(--GW-link-underline-background-color),
        -0.05em 0.05em  var(--GW-link-underline-background-color),
         0.17em 0.05em  var(--GW-link-underline-background-color),
        -0.17em 0.05em  var(--GW-link-underline-background-color),
         0.17em 0       var(--GW-link-underline-background-color),
        -0.17em 0       var(--GW-link-underline-background-color);
}
.markdownBody a:hover {
    background-image: linear-gradient(var(--GW-link-underline-gradient-line-color-hover), var(--GW-link-underline-gradient-line-color-hover));
}

/* eliminate the blurring of headers and links when selecting by overriding the text-shadow: */
::selection {
    text-shadow: none;
    background: var(--GW-text-selection-background-color);
    color: var(--GW-text-selection-color);
}

/*  Prevent code block background color and border from obscuring link
    underlining, for inline <code> elements in links.
    */
a code {
    border-bottom-width: 0;
    word-break: normal;
    background-color: transparent;
}

/**************/
/* PARAGRAPHS */
/**************/

p {
    margin: 0;
}
p + p {
    text-indent: 2.5em;
}
p + figure[class^='float-'] + p {
    text-indent: 2.5em;
}
@media only screen and (max-width: 649px) {
    p + p {
        text-indent: 1em;
    }
    p + figure[class^='float-'] + p {
        text-indent: 1em;
    }
}

/***************/
/* BLOCKQUOTES */
/***************/
/* additional blockquote styling done in default.css */

blockquote {
    --GW-link-underline-background-color: var(--GW-blockquote-background-color);

    margin: 1.625em 0 1.75em 0;
    border: 1px solid var(--GW-blockquote-border-color);
    background-color: var(--GW-blockquote-background-color);
    font-size: 0.95em;
    padding: 1em 1.25em;
}

/*  Three-level of blockquote emphasis (darkening).
    */
blockquote,
blockquote blockquote blockquote blockquote {
    --GW-blockquote-background-color: var(--GW-blockquote-background-color-level-one);
}
blockquote {
    --GW-blockquote-border-color: var(--GW-blockquote-border-color-level-one);
}
blockquote blockquote blockquote blockquote {
    --GW-blockquote-border-color: var(--GW-blockquote-border-color-level-four);
}

blockquote blockquote,
blockquote blockquote blockquote blockquote blockquote {
    --GW-blockquote-border-color: var(--GW-blockquote-border-color-level-two);
    --GW-blockquote-background-color: var(--GW-blockquote-background-color-level-two);
}

blockquote blockquote blockquote,
blockquote blockquote blockquote blockquote blockquote blockquote {
    --GW-blockquote-border-color: var(--GW-blockquote-border-color-level-three);
    --GW-blockquote-background-color: var(--GW-blockquote-background-color-level-three);
}

/*=--------------------=*/
/*= Various edge cases =*/
/*=--------------------=*/

@media only screen and (min-width: 650px) {
    .abstract blockquote {
        overflow: hidden;
    }
}
@media only screen and (max-width: 649px) {
    /* even less horizontal is available on mobile! */
    blockquote {
        margin: 1.25em 0 1.5em 0;
        padding: 0.75em 1em;
    }
}

p + blockquote {
    margin-top: 1em;
}

/***************/
/* CODE BLOCKS */
/***************/

pre {
    overflow: auto;
}

/*  Full-width code blocks.
    */
.full-width-code-block-wrapper {
    max-width: -moz-fit-content;
    max-width: fit-content;
    margin: auto;
    position: relative;
    z-index: 1;
}
.full-width-code-block-wrapper pre {
    padding-right: 1px;
}

/********/
/* MATH */
/********/

.mjpage__block {
    display: block;
    overflow: auto;
}

/**********/
/* TABLES */
/**********/

.table-wrapper {
    margin: 2em 0 2.125em 0;
    overflow-x: auto;
    overflow-y: hidden;
    box-sizing: border-box;
}

/*=-------------------=*/
/*= Full-width tables =*/
/*=-------------------=*/

.table-wrapper.full-width {
    position: relative;
    z-index: 1;
}
.table-wrapper.full-width table {
    width: -moz-fit-content;
    width: fit-content;
    margin: 0 auto;
}

/***********/
/* FIGURES */
/***********/

figure img,
figure video {
    display: block;
    max-height: calc(100vh - 8em);
    max-width: 100%;
    height: auto;
    width: auto;
    margin: 0 auto;
}

/********/
/* MISC */
/********/

/*  enable standard Pandoc attribute-based syntax for small-caps like '[foo]{.smallcaps}'; see https://pandoc.org/MANUAL.html#small-caps
    */
span.smallcaps {
    font-feature-settings: 'smcp';
}

/* Enable SSfP smallcaps for auto-annotated abbreviations/acronyms */
span.smallcaps-auto {
    font-feature-settings: 'smcp', 'c2sc';
    font-variant-numeric: tabular-nums;
}
/* Reduce text-shadow overlap partially erasing letters next to smallcaps: eg in `["microCOVID project"](https://www.microcovid.org/)`, the 'o' in 'micro' will be partially erased and look like a 'c' without some sort of extra spacing */
a > .smallcaps-auto { margin-left: 0.7px; }

/*************/
/* DARK MODE */
/*************/
/* see /static/js/darkmode.js and /static/css/dark-mode.css; this allows the user to toggle at runtime */
</style>
<style id="inlined-dark-mode-styles" media="all and (prefers-color-scheme: dark)">
:root {
    /*  General.
        */
    --GW-body-background-color: #000;
    --GW-body-text-color: #fff;
    --GW-body-link-color: #e5e5e5;
    --GW-body-link-hover-color: #999;

    /*  Selection.
        */
    --GW-text-selection-background-color: #dcdcdc;
    --GW-text-selection-color: #000;

    /*  Link underlining.
        */
    --GW-link-underline-background-color: var(--GW-body-background-color);
    --GW-link-underline-gradient-line-color: #dcdcdc;
    --GW-link-underline-gradient-line-color-hover: #8b8b8b;

    /*  Blockquotes.
        */
    --GW-blockquote-border-color-level-one: #5c5c5c;
    --GW-blockquote-border-color-level-two: #646464;
    --GW-blockquote-border-color-level-three: #747474;
    --GW-blockquote-border-color-level-four: #7f7f7f;
    --GW-blockquote-background-color-level-one: #212121;
    --GW-blockquote-background-color-level-two: #3e3e3e;
    --GW-blockquote-background-color-level-three: #4f4f4f;

    /*  Abstracts.
        */
    --GW-abstract-border-color: #6c6c6c;
    --GW-abstract-background-color: var(--GW-blockquote-background-color-level-one);

    /*  Sidebar.
        */
    --GW-sidebar-horizontal-rule-color: #7c7c7c;
    --GW-sidebar-mobile-link-border-color: #fff;

    /*  Table of contents.
        */
    --GW-TOC-border-color: #5c5c5c;
    --GW-TOC-background-color: #212121;
    --GW-TOC-link-hover-background-color: #363636;
    --GW-TOC-link-hover-color: #fff;
    --GW-TOC-link-hover-indicator-bar-color: #5c5c5c;
    --GW-TOC-number-color: #929292;
    --GW-TOC-number-hover-color: #ddd;

    /*  Collapse blocks.
        */
	--GW-collapse-summary-blockquote-hover-color: #333;
	--GW-collapse-disclosure-button-color: #333;
	--GW-collapse-disclosure-button-hover-color: #494949;
	--GW-collapse-disclosure-button-top-part-text-color: #6c6c6c;
	--GW-collapse-disclosure-button-bottom-part-text-color: #7c7c7c;
	--GW-collapse-disclosure-button-text-hover-color: #000;

    /*  Headings.
        */
    --GW-H1-box-shadow-background-color: var(--GW-body-background-color);
    --GW-H1-box-shadow-line-color: #999;
    --GW-H2-bottom-border-color: #999;

    /*  Comments.
        */
    --GW-comment-section-top-border-color: #8b8b8b;

    /*  Lists.
        */
    --GW-bulleted-list-marker-color: #9f9f9f;

    /*  Figures.
        */
    --GW-figure-outline-color: #999;
    --GW-figure-caption-outline-color: #999;

    /*  Epigraphs.
        */
    --GW-epigraph-quotation-mark-color: #9f9f9f;

    /*  Footnotes.
        */
    --GW-footnote-border-color: #7c7c7c;
    --GW-footnote-highlighted-border-color: #7c7c7c;
    --GW-footnotes-section-top-rule-color: #5c5c5c;
    --GW-footnote-backlink-border-color: #fff;
    --GW-footnote-backlink-border-hover-color: #8b8b8b;
    --GW-footnote-backlink-after-bordered-block-background-color: var(--GW-body-background-color);

    /*  Footnote references.
        */
    --GW-footnote-ref-highlight-box-shadow-color: #7c7c7c;
    --GW-footnote-ref-highlight-background-color: rgba(0, 0, 0, 0.75);

    /*  Sidenotes.
        */
    --GW-sidenote-highlight-background-color: var(--GW-body-background-color);
    --GW-sidenote-highlight-box-shadow-color: #7c7c7c;
    --GW-sidenote-border-color: #7c7c7c;
    --GW-sidenote-scrollbar-track-color: var(--GW-body-background-color);
    --GW-sidenote-scrollbar-thumb-color: #7c7c7c;
    --GW-sidenote-scrollbar-thumb-hover-color: #8b8b8b;
    --GW-sidenote-self-link-border-color: #7c7c7c;

    /*  Tables.
        */
    --GW-table-border-color: #fff;
    --GW-table-full-width-background-color: var(--GW-body-background-color);
    --GW-table-caption-border-color: #fff;
    --GW-table-row-horizontal-border-color: #fff;
    --GW-table-cell-vertical-border-color: var(--GW-body-background-color);
    --GW-table-scrollbar-track-color: var(--GW-body-background-color);
    --GW-table-scrollbar-thumb-color: #7c7c7c;
    --GW-table-scrollbar-thumb-hover-color: #8b8b8b;
    --GW-table-scrollbar-border-color: #fff;
    --GW-table-column-heading-hover-background-color: #2b3637;
    --GW-table-sorted-column-heading-background-color: #166983;
    --GW-table-sorted-column-heading-text-color: #000;
    --GW-table-sorted-column-heading-text-shadow-color: #fff;
    --GW-table-zebra-stripe-alternate-row-background-color: #252525;
    --GW-table-row-hover-outline-color: #fff;

    /*  Code blocks.
        */
    --GW-code-element-border-color: #606060;
    --GW-code-element-background-color: #1d1d1d;
    --GW-pre-element-border-color: #606060;
    --GW-pre-element-background-color: #1d1d1d;
    --GW-pre-element-scrollbar-track-color: #1d1d1d;
    --GW-pre-element-scrollbar-thumb-color: #5c5c5c;
    --GW-pre-element-scrollbar-thumb-hover-color: #8b8b8b;

    /*  Syntax highlight theme.
        */
    --GW-syntax-highlight-color-normal: #f1edec;
    --GW-syntax-highlight-color-attribute: #d8deff;
    --GW-syntax-highlight-color-data-type: inherit;
    --GW-syntax-highlight-color-variable: #b4b4b4;
    --GW-syntax-highlight-color-other: inherit;
    --GW-syntax-highlight-color-preprocessor: inherit;
    --GW-syntax-highlight-color-extension: #999;
    --GW-syntax-highlight-color-comment: #999;
    --GW-syntax-highlight-color-control-flow: #b6edaa;
    --GW-syntax-highlight-color-keyword: #d8deff;
    --GW-syntax-highlight-color-operator: #d8deff;
    --GW-syntax-highlight-color-special-char: #94adb6;
    --GW-syntax-highlight-color-built-in: #d8deff;
    --GW-syntax-highlight-color-function: #d8deff;
    --GW-syntax-highlight-color-constant: inherit;
    --GW-syntax-highlight-color-base-n: inherit;
    --GW-syntax-highlight-color-dec-val: inherit;
    --GW-syntax-highlight-color-float: inherit;
    --GW-syntax-highlight-color-information: inherit;
    --GW-syntax-highlight-color-char: inherit;
    --GW-syntax-highlight-color-string: inherit;
    --GW-syntax-highlight-color-verbatim-string: inherit;
    --GW-syntax-highlight-color-alert: #ff815c;
    --GW-syntax-highlight-color-error: #ff4727;
    --GW-syntax-highlight-color-import: #a6a6a6;
    --GW-syntax-highlight-color-special-string: #b4b4b4;

    /*  Math.
        */
    --GW-math-block-background-color: #252525;
    --GW-math-block-scrollbar-border-color: #5c5c5c;
    --GW-math-block-scrollbar-track-color: var(--GW-body-background-color);
    --GW-math-block-scrollbar-thumb-color: #5c5c5c;
    --GW-math-block-scrollbar-thumb-hover-color: #8b8b8b;

    /*  Drop caps.
        */
    --GW-drop-caps-yinit-color: #f9f9f9;
    --GW-drop-caps-yinit-text-shadow-color: #a6a6a6;
    --GW-drop-caps-de-zs-color: #efefef;
    --GW-drop-caps-cheshire-color: #f1f1f1;
    --GW-drop-caps-kanzlei-color: #f1f1f1;

    /*  Admonitions.
        */
    --GW-admonition-default-left-border-color: #929292;
    --GW-admonition-default-background-color: #4f4f4f;
    --GW-admonition-tip-left-border-color: #4f4f4f;
    --GW-admonition-tip-background-color: #303030;
    --GW-admonition-warning-left-border-color: #bdbdbd;
    --GW-admonition-warning-background-color: #8a8a8a;
    --GW-admonition-warning-text-color: #000;
    --GW-admonition-warning-title-background-color: #bdbdbd;
    --GW-admonition-warning-icon-color: #000;
    --GW-admonition-error-left-border-color: #e1e1e1;
    --GW-admonition-error-background-color: #bdbdbd;
    --GW-admonition-error-text-color: #000;
    --GW-admonition-error-title-background-color: #e1e1e1;
    --GW-admonition-error-icon-color: #000;
    --GW-admonition-reversed-link-color: #494949;
    --GW-admonition-reversed-link-color-hover: #5c5c5c;
    --GW-admonition-reversed-link-underline-gradient-line-color: #5c5c5c;
    --GW-admonition-reversed-link-underline-gradient-line-color-hover: #6c6c6c;
    --GW-admonition-reversed-footnote-ref-highlight-background-color: rgba(189, 189, 189, 0.75);

    /*  Sequential nav UI.
        */
    --GW-sequential-nav-link-background-color: var(--GW-body-background-color);

    /*  Page-specific styles.
        */
    --GW-index-page-bottom-ornament-line-color: #9f9f9f;

	/*	Pop-frames (popups or popins).
		*/
    --GW-raw-code-popframe-line-highlight-background-color: #181700;
    --GW-raw-code-popframe-line-hightlight-border-color: #494949;
    --GW-raw-code-popframe-line-number-color: #7c7c7c;
    --GW-raw-code-popframe-line-number-divider-color: #5c5c5c;

    /*  Popups.
        */
    --GW-popups-body-background-color: var(--GW-body-background-color);
    --GW-popups-popup-background-color: var(--GW-body-background-color);

    --GW-popups-popup-border-color: #5c5c5c;
    --GW-popups-box-shadow-color: #5c5c5c;
    --GW-popups-popup-border-focused-color: #7c7c7c;
    --GW-popups-box-shadow-focused-color: #7c7c7c;

    --GW-popups-popup-title-bar-background-color: #252525;
    --GW-popups-popup-title-bar-button-color: #6c6c6c;
    --GW-popups-popup-title-bar-button-color-hover: #fff;
	--GW-popups-popup-title-color: #7c7c7c;
    --GW-popups-popup-title-link-hover-color: var(--GW-body-link-hover-color);
    --GW-popups-popup-title-bar-background-focused-color: #3e3e3e;
    --GW-popups-popup-title-bar-button-focused-color: #a6a6a6;
    --GW-popups-popup-title-bar-button-focused-color-hover: #fff;
    --GW-popups-popup-title-bar-submenu-box-shadow-color: #494949;
	--GW-popups-popup-title-focused-color: #fff;
    --GW-popups-popup-title-link-hover-focused-color: var(--GW-body-link-hover-color);

    --GW-popups-popup-scrollbar-track-color: var(--GW-body-background-color);

    --GW-popups-popup-scrollbar-thumb-color: #494949;
    --GW-popups-popup-scrollbar-thumb-hover-color: #6c6c6c;
    --GW-popups-popup-scrollbar-thumb-focused-color: #5c5c5c;
    --GW-popups-popup-scrollbar-thumb-hover-focused-color: #8b8b8b;

    --GW-popups-popup-options-dialog-backdrop-background-color: rgba(0, 0, 0, 0.95);
    --GW-popups-popup-options-dialog-background-color: var(--GW-body-background-color);
    --GW-popups-popup-options-dialog-border-color: #7c7c7c;
    --GW-popups-popup-options-dialog-box-shadow-color: #cecece;
    --GW-popups-popup-options-dialog-horizontal-rule-color: #5c5c5c;
    --GW-popups-popup-options-dialog-button-background-color: var(--GW-body-background-color);
    --GW-popups-popup-options-dialog-button-text-color: #fff;
    --GW-popups-popup-options-dialog-button-border-color: #fff;
    --GW-popups-popup-options-dialog-button-hover-box-shadow-color: #fff;
    --GW-popups-popup-options-dialog-option-button-explanation-text-color: #a6a6a6;
    --GW-popups-popup-options-dialog-option-button-hover-text-color: #a6a6a6;
    --GW-popups-popup-options-dialog-radio-button-border-color: #fff;
    --GW-popups-show-popup-options-dialog-button-color: #8b8b8b;

    /*  Popins.
        */
    --GW-popins-body-background-color: var(--GW-body-background-color);
    --GW-popins-popin-background-color: var(--GW-body-background-color);
    --GW-popins-popin-border-color: #7c7c7c;
    --GW-popins-box-shadow-color: #7c7c7c;
    --GW-popins-popin-title-bar-background-color: #000;
    --GW-popins-popin-title-bar-button-color: #a6a6a6;
    --GW-popins-popin-scrollbar-thumb-color: #5c5c5c;
    --GW-popins-popin-scrollbar-track-color: var(--GW-body-background-color);
    --GW-popins-popin-scrollbar-thumb-hover-color: #8b8b8b;
    --GW-popins-popin-stack-counter-text-color: #000;

    /*  Image focus.
        */
    --GW-image-focus-image-hover-drop-shadow-color: #a6a6a6;

    /*  Mode selector (light/dark mode).
        */
    --GW-mode-selector-background-color: var(--GW-body-background-color);
    --GW-mode-selector-border-hover-color: #7c7c7c;
    --GW-mode-selector-button-text-color: #a6a6a6;
    --GW-mode-selector-button-hover-text-color: #fff;

	/*	“Back to top” link.
		*/
	--GW-back-to-top-link-color: #5c5c5c;
	--GW-back-to-top-link-hover-color: #8b8b8b;
}
:root {
    /*  Adjust background color to prevent pixels from turning off (contrary to popular belief, pixels turning off saves trivial energy, like <1% in measurements, and causes nasty scrolling/update jank due to delay in pixels turning back on), and improve contrast with the white.
        */
    --GW-body-background-color: #111111;

    /* Dial back from pure white to keep contrast from being *too* high & 'stark' (#fff bg / #000 text seems to work in light mode, but not in dark mode, perhaps because of differences in lighting environment?) */
    --GW-body-text-color: #f1f1f1;

    /*  Adjust this one color in the syntax highlighting color scheme to make it
        less saturated. (The automatic inversion algorithm doesn’t quite handle
        it in the way we want.)
        */
    --GW-syntax-highlight-color-control-flow: #cce1c8;
}

/*  The ‘fill’ attribute of the SVGs is modified in dark mode.
    (We cannot use an invert filter because we don’t want to invert the whole
     element, only the background-image.)
    */
.collapse .disclosure-button::before {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z" fill="%235C5C5C"></path></svg>');
}
.collapse .disclosure-button:hover::before {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z" fill="%23000"></path></svg>');
}
.collapse .disclosure-button:checked::before {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z" fill="%235C5C5C"></path></svg>');
}
.collapse .disclosure-button:checked:hover::before {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z" fill="%23000"></path></svg>');
}

/*  The ‘celestial symbol’ horizonal rules are SVGs and must be inverted.
    */
hr::after,
.horizontalRule-nth-0 hr::after {
    opacity: 1;
    filter: invert(1) drop-shadow(0 0 0 currentColor);
}
.horizontalRule-nth-1 hr::after {
    opacity: 0.75;
    filter: invert(1);
}
.horizontalRule-nth-2 hr::after {
    opacity: 0.85;
    filter: invert(1);
}

/*  Drop cap opacity adjustment.
    */
.drop-cap-goudy::first-letter,
.drop-cap-goudy > p::first-letter {
    opacity: 0.95;
}

/*  Admonition icons.
    */
.admonition.tip::before,
.admonition.note::before,
.admonition.warn::before,
.admonition.warning::before,
.admonition.error::before {
    filter: invert(1);
}

div.admonition.warn,
div.admonition.warning,
div.admonition.error {
    --GW-dotted-underline-background-image: var(--GW-dotted-underline-hover-dark-background-image);
}

/*  List bullets are SVGs and have to be inverted.
    */
ul > li::before {
    filter: invert(1);
}

/*  Exclusion for TOC entries.
    */
#TOC ul > li::before {
    filter: none;
}

/*  For sortable table column headings, we use dark versions of the up/down/both
    arrow icons.
    */
table th.tablesorter-header {
    background-image: url('/static/img/tablesorter/tablesorter-bg-dark.gif');
}
table th.tablesorter-headerAsc {
    background-image: url('/static/img/tablesorter/tablesorter-asc-dark.gif');
}
table th.tablesorter-headerDesc {
    background-image: url('/static/img/tablesorter/tablesorter-desc-dark.gif');
}

/*  The pixel-grid-checkerboard pattern of these scroll bars is created by GIF
    background-images; we use alternate versions of the images in dark mode.
    */
.table-wrapper::-webkit-scrollbar-thumb {
    background-image: url('data:image/gif;base64,R0lGODlhBAAEAPAAMQAAAIiIiCwAAAAABAAEAAACBkwAhqgZBQA7');
}
.table-wrapper::-webkit-scrollbar-thumb:hover {
    background-image: url('data:image/gif;base64,R0lGODlhBAAEAPAAMQAAAL+/vywAAAAABAAEAAACBkwAhqgZBQA7');
}

.sidenote.cut-off .sidenote-outer-wrapper::-webkit-scrollbar-thumb {
    background-image: url('data:image/gif;base64,R0lGODlhBAAEAPAAMQAAAIiIiCwAAAAABAAEAAACBkwAhqgZBQA7');
}
.sidenote.cut-off .sidenote-outer-wrapper::-webkit-scrollbar-thumb:hover {
    background-image: url('data:image/gif;base64,R0lGODlhBAAEAPAAMQAAAL+/vywAAAAABAAEAAACBkwAhqgZBQA7');
}

/*  Images that are marked as invertible by the server are inverted,
    hue-rotated, and desaturated. Other (non-invertible) images are merely
    desaturated. Hovering over an image restores it to its original state.
    */
img.invertible,
img.invertible-auto {
    filter: grayscale(50%) invert(100%) brightness(95%) hue-rotate(180deg);
}
img:not(.invertible):not(.invertible-auto) {
    filter: grayscale(50%);
}
img,
img.invertible,
img.invertible-auto {
    transition: filter 0.25s ease;
}
img:hover,
img.invertible:hover,
img.invertible-auto:hover {
    filter: none;
    transition: filter 0s ease 0.25s;
}

/*  The loading spinner for object popups (image, iframe, object) is inverted
    and made more visible in dark mode.
    */
.popupdiv.loading::before {
    filter: invert(1);
    opacity: 0.4;
}

/*  “Loading failed” messages for object popups.
    */
.popupdiv.loading-failed::after {
    opacity: 0.4;
}

/*  The mode selector is adjusted to be better visible in dark mode, and its
    button icons inverted.
    */
div#mode-selector {
    opacity: 0.6;
}
div#mode-selector button::before {
    filter: invert(1);
    opacity: 0.45;
}
div#mode-selector button.select-mode-light::before {
    opacity: 0.55;
}

/*  The dotted underline for Wikipedia links is created by a
    pixel-grid-checkerboard background-image. We use an alternate version of
    this image in dark mode.
    */
.markdownBody a[href*='wikipedia.org'].docMetadata:hover,
.markdownBody a[href*='wikimedia.org'].docMetadata:hover,
.markdownBody a[href*='wiktionary.org'].docMetadata:hover,
.markdownBody a[href*='wikimediafoundation.org'].docMetadata:hover,
.markdownBody a[href*='wikisource.org'].docMetadata:hover {
    background-image: var(--GW-dotted-underline-hover-dark-background-image);
}

/*  All SVG linkicons have to be inverted.
    */
a.link-self.identifier-link-up::after,
a.link-self.identifier-link-down::after,
a[href$='.pdf' i]::after,
a[href$='/pdf' i]::after,
a[href*='/pdf/' i]::after,
a[href$='type=pdf' i]::after,
a[href*='.pdf#' i]::after,
a[href*='pdfs.semanticscholar.org' i]::after,
a[href$='.epub' i]::after,
a[href*='citeseerx.ist.psu.edu' i]::after,
a[href*='eprint.iacr.org' i]::after,
a[href$='.opml' i]::after,
a[href$='.txt' i]::after,
a[href$='.xml' i]::after,
a[href$='.css' i]::after,
a[href$='.hs' i]::after,
a[href$='.js' i]::after,
a[href$='.json' i]::after,
a[href$='.jsonl' i]::after,
a[href^='/'][href$='.php' i]::after,
a[href$='.conf' i]::after,
a[href$='.sh' i]::after,
a[href$='.R' i]::after,
a[href$='.patch' i]::after,
a[href$='.diff' i]::after,
a[href^="/static/" i][href$=".html" i]::after,
a[href$='.doc' i]::after,
a[href$='.docx' i]::after,
a[href*='docs.google.com' i]::after,
a[href$='.xls' i]::after,
a[href$='.xlsx' i]::after,
a[href$='.ods' i]::after,
a[href$='.csv' i]::after,
a[href$='.gif' i]::after,
a[href$='.bmp' i]::after,
a[href$='.ico' i]::after,
a[href$='.jpg' i]::after,
a[href$='.jpeg' i]::after,
a[href$='.png' i]::after,
a[href$='.svg' i]::after,
a[href$='.xcf' i]::after,
a[href*='imgur.com']::after,
a[href$='.mp3' i]::after,
a[href$='.wav' i]::after,
a[href$='.flac' i]::after,
a[href$='.ogg' i]::after,
a[href$='.rm' i]::after,
a[href$='.swf' i]::after,
a[href$='.avi' i]::after,
a[href$='.mp4' i]::after,
a[href$='.webm' i]::after,
a[href$='.tar' i]::after,
a[href$='.zip' i]::after,
a[href$='.xz'  i]::after,
a[href$='.img' i]::after,
a[href$='.bin' i]::after,
a[href$='.pkl' i]::after,
a[href$='.onnx' i]::after,
a[href$='.pt' i]::after,
a[href$='.ebt' i]::after,
a[href$='.mdb' i]::after,
a[href$='.mht' i]::after,
a[href$='.ttf' i]::after,
a[href*='biorxiv.org']::after,
a[href*='medrxiv.org']::after,
a[href*='substack.com']:not([href*=astralcodexten])::after,
a[href*='scholar.google.com']::after,
a[href*='plosone.org']::after,
a[href*='plosmedicine.org']::after,
a[href*='plos.org']::after,
a[href*='www.plos']::after,
a[href*='patreon.com']::after,
a[href*='uptontea.com']::after,
a[href*='wired.com']::after,
a[href*='washingtonpost.com']::after,
a[href*='nytimes.com']::after,
a[href*='nlm.nih.gov']::after,
a[href*='newyorker.com']::after,
a[href*='theguardian.com']::after,
a[href*='www.guardian.co.uk']::after,
a[href*='reddit.com']::after,
a[href*='paulgraham.com']::after,
a[href*='ycombinator.com']::after,
a[href*='intelligence.org']::after,
a[href*='deepmind']::after,
a[href*='docs/.*/*.pdf#deepmind']::after,
a[href*='openai']::after,
a[href$='.pdf#openai']::after,
a[href*='distill.pub']::after,
a[href*='twitter.com']::after,
a[href*='nitter.hu']::after,
a[href*='erowid.org']::after,
a[href*='wikipedia.org']::after,
a[href*='wikimedia.org']::after,
a[href*='wiktionary.org']::after,
a[href*='wikimediafoundation.org']::after,
a[href*='wikisource.org']::after,
a[href*='youtube.com']::after,
a[href*='youtu.be']::after,
a[href*='soundcloud.com']::after,
a[href*='bandcamp.com']::after,
a[href*='overflow.net']::after,
a[href*='overflow.com']::after,
a[href*='stackexchange.com']::after,
a[href*='amazon.com']::after,
a[href*='amazon.co.']::after,
a[href*='amzn.com'  ]::after,
a[href*='github.com']::after,
a[href*='dropbox.com']::after,
a[href*='dropboxusercontent.com']::after,
a[href*='mega.nz']::after,
a[href*='webcitation.org'   ]::after,
a[href*='mementoweb.org'    ]::after,
a[href*='archive.org'       ]::after,
a[href*='archive-it.org'    ]::after,
a[href*='archiveteam.org'   ]::after,
a[href*='waybackmachine.org']::after,
a.local-archive-link::after,
a[href*="tumblr.com"]::after,
a[href*="t.umblr.com"]::after,
a[href*="#facebook"]::after,
a[href*="#facebook"][href*="arxiv.org"]::after,
a[href*='docs/.*/*.pdf#.*facebook']::after,
a[href*="facebook.com"]::after,
a[href*="bitcointalk.org"]::after,
a[href*="bitcoin.it"]::after,
a[href*="www.google.com"]::after,
a[href*="#google"]::after,
a[href*="#org=google"]::after,
a[href*="#google"][href*="arxiv.org"]::after,
a[href*="#org=google"][href*="arxiv.org"]::after,
a[href*='docs/.*/*.pdf#.*google']::after,
a[href*='docs/.*/*.pdf#org=google']::after {
    filter: invert(1);
}
</style>
<script>
/*  Create global 'GW' object, if need be.
    */
if (typeof window.GW == "undefined")
    window.GW = { };

/*****************/
/* MEDIA QUERIES */
/*****************/

GW.mediaQueries = {
    mobileWidth:           matchMedia("(max-width: 649px)"),
    systemDarkModeActive:  matchMedia("(prefers-color-scheme: dark)"),
    hoverAvailable:        matchMedia("only screen and (hover: hover) and (pointer: fine)"),
    portraitOrientation:   matchMedia("(orientation: portrait)")
};

GW.isMobile = () => {
    /*  We consider a client to be mobile if one of two conditions obtain:
        1. JavaScript detects touch capability, AND viewport is narrow; or,
        2. CSS does NOT detect hover capability.
        */
    return (   (   ('ontouchstart' in document.documentElement)
                && GW.mediaQueries.mobileWidth.matches)
            || !GW.mediaQueries.hoverAvailable.matches);
};

GW.isFirefox = () => {
    return (navigator.userAgent.indexOf("Firefox") > 0);
};

/********************/
/* DEBUGGING OUTPUT */
/********************/

GW.logLevel = localStorage.getItem("gw-log-level") || 0;
GW.logSourcePadLength = 18;
GW.dateTimeFormat = new Intl.DateTimeFormat([], { hour12: false, hour: "numeric", minute: "numeric", second: "numeric" });

function GWLog (string, source = "", level = 1) {
    if (GW.logLevel < level) return;

    let time = Date.now();
    let ms = `${(time % 1000)}`.padStart(3,'0');
    let timestamp = `[${GW.dateTimeFormat.format(time)}.${ms}]  `;
    let sourcestamp = (source > "" ? `[${source}]` : `[ ]`).padEnd(GW.logSourcePadLength, ' ');

    console.log(timestamp + sourcestamp + string);
}
GW.setLogLevel = (level, permanently = false) => {
    if (permanently)
        localStorage.setItem("gw-log-level", level);

    GW.logLevel = level;
};

/***********/
/* HELPERS */
/***********/

/*  Because encodeURIComponent does not conform to RFC 3986; see MDN docs.
    */
function fixedEncodeURIComponent(str) {
    return encodeURIComponent(str).replace(/[!'()*]/g, function(c) {
        return '%' + c.charCodeAt(0).toString(16);
    });
}

/*  Helper function for AJAX, by kronusaturn
    https://github.com/kronusaturn/lw2-viewer/blob/master/www/script.js
    */
function urlEncodeQuery(params) {
    return (Object.keys(params)).map(x => (`${x}=${ fixedEncodeURIComponent(params[x]) }`)).join("&");
}

/*  Helper function for AJAX, by kronusaturn
    https://github.com/kronusaturn/lw2-viewer/blob/master/www/script.js
    */
function doAjax(options) {
    let req = new XMLHttpRequest();
    req.addEventListener("load", (event) => {
        if (event.target.status < 400) {
            if (options["onSuccess"]) options.onSuccess(event);
        } else {
            if (options["onFailure"]) options.onFailure(event);
        }
    });
    let method = (options["method"] || "GET");
    let location = (options.location || document.location) + ((options.params && method == "GET") ? ("?" + urlEncodeQuery(options.params)) : "");
    req.open(method, location);
    if (options["method"] == "POST") {
        req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        req.send(urlEncodeQuery(options.params));
    } else {
        req.send();
    }
}

/*  Adds an event listener to a button (or other clickable element), attaching
    it to both ‘click’ and ‘keyup’ events (for use with keyboard navigation).
    Optionally also attaches the listener to the ‘mousedown’ event, making the
    element activate on mouse down instead of mouse up.
    */
Element.prototype.addActivateEvent = function(fn, includeMouseDown) {
    let ael = this.activateEventListener = (event) => {
        if (event.button === 0 || event.key === ' ')
            fn(event);
    };
    if (includeMouseDown) this.addEventListener("mousedown", ael);
    this.addEventListener("click", ael);
    this.addEventListener("keyup", ael);
}

/*  Swap classes on the given element.
    First argument is an array with two string elements (the classes).
    Second argument is 0 or 1 (index of class to add; the other is removed).
    */
Element.prototype.swapClasses = function (classes, whichToAdd) {
    this.classList.add(classes[whichToAdd]);
    this.classList.remove(classes[1 - whichToAdd]);
};

/*  Returns true if the given rects intersect, false otherwise.
    */
function doRectsIntersect(rectA, rectB) {
    return (rectA.top < rectB.bottom &&
            rectA.bottom > rectB.top &&
            rectA.left < rectB.right &&
            rectA.right > rectB.left);
}

/*  Returns true if the given element intersects the given rect,
    false otherwise.
    */
function isWithinRect(element, rect) {
    return doRectsIntersect(element.getBoundingClientRect(), rect);
}

/*  Returns true if the given element intersects the viewport, false otherwise.
    */
function isOnScreen (element) {
    return isWithinRect(element, new DOMRect(0, 0, window.innerWidth, window.innerHeight));
}

/*  Returns the string trimmed of opening/closing quotes.
    */
String.prototype.trimQuotes = function () {
    return this.replace(/^["'“‘]?(.+?)["'”’]?$/, '$1');
};

/*  Returns true if the string begins with any of the given prefixes.
    */
String.prototype.startsWithAnyOf = function (prefixes) {
    for (prefix of prefixes)
        if (this.startsWith(prefix))
            return true;
    return false;
}

/*  Returns true if the string ends with any of the given suffixes.
    */
String.prototype.endsWithAnyOf = function (suffixes) {
    for (suffix of suffixes)
        if (this.endsWith(suffix))
            return true;
    return false;
}

/*  Returns true if the string includes any of the given substrings.
    */
String.prototype.includesAnyOf = function (substrings) {
    for (substring of substrings)
        if (this.includes(substring))
            return true
    return false;
}

/*  Remove given item from array.
    */
Array.prototype.remove = function (item) {
    let index = this.indexOf(item);
    if (index !== -1)
        this.splice(index, 1);
};

/*  Remove from array the first item that passes the provided test function.
    The test function should take an array item and return true/false.
    */
Array.prototype.removeIf = function (test) {
    let index = this.findIndex(test);
    if (index !== -1)
        this.splice(index, 1);
};

/*  Insert the given item into the array just before the first item that passes
    the provided test function. If no item passes the test function, append the
    item to the end of the array.
    */
Array.prototype.insertBefore = function (item, test) {
    let index = this.findIndex(test);
    if (index === -1) {
        this.push(item);
    } else {
        this.splice(index, 0, item);
    }
};

/*  Run the given function immediately if the page is already loaded, or add
    a listener to run it as soon as the page loads.
    */
function doWhenPageLoaded(f) {
    if (document.readyState == "complete")
        f();
    else
        window.addEventListener("load", () => { f(); });
}

/*  Run the given function immediately if the page content has already loaded
    (DOMContentLoaded event has fired), or add a listener to run it as soon as
    the event fires.
    */
function doWhenDOMContentLoaded(f) {
    if (GW.DOMContentLoaded == true)
        f();
    else
        window.addEventListener("DOMContentLoaded", () => { f(); });
}

/*  Given an HTML string, creates an element from that HTML, adds it to
    #ui-elements-container (creating the latter if it does not exist), and
    returns the created element.
    */
function addUIElement(element_html) {
    let ui_elements_container = document.querySelector("#ui-elements-container");
    if (!ui_elements_container) {
        ui_elements_container = document.createElement("div");
        ui_elements_container.id = "ui-elements-container";
        document.querySelector("body").appendChild(ui_elements_container);
    }

    ui_elements_container.insertAdjacentHTML("beforeend", element_html);
    return ui_elements_container.lastElementChild;
}

GW.scrollListeners = { };
/*  Adds a scroll event listener to the page.
    */
function addScrollListener(fn, name) {
    let wrapper = (event) => {
        requestAnimationFrame(() => {
            fn(event);
            document.addEventListener("scroll", wrapper, { once: true, passive: true });
        });
    }
    document.addEventListener("scroll", wrapper, { once: true, passive: true });

    // Retain a reference to the scroll listener, if a name is provided.
    if (typeof name != "undefined") {
        GW.scrollListeners[name] = wrapper;
    }
}
/*  Removes a named scroll event listener from the page.
    */
function removeScrollListener(name) {
    let wrapper = GW.scrollListeners[name];
    if (wrapper) {
        document.removeEventListener("scroll", wrapper);
        GW.scrollListeners[name] = null;
    }
}

/*  Returns val, or def if val == defval. (By default, defval is -1.)
    (In other words, `defval(X,Y,Z)` is “return X if Y is Z [else, just Y]”.)
    */
function defval(def, val, defval = -1) {
    return (val == defval) ? def : val;
}

/*  Returns val, or min if val < min, or max if val > max.
    (In other words, clamps val to [min,max].)
    */
function valMinMax(val, min, max) {
    return Math.max(Math.min(val, max), min);
}

/************************/
/* ACTIVE MEDIA QUERIES */
/************************/

/*  This function provides two slightly different versions of its functionality,
    depending on how many arguments it gets.

    If one function is given (in addition to the media query and its name), it
    is called whenever the media query changes (in either direction).

    If two functions are given (in addition to the media query and its name),
    then the first function is called whenever the media query starts matching,
    and the second function is called whenever the media query stops matching.

    If you want to call a function for a change in one direction only, pass an
    empty closure (NOT null!) as one of the function arguments.

    There is also an optional fifth argument. This should be a function to be
    called when the active media query is canceled.
    */
function doWhenMatchMedia(mediaQuery, name, ifMatchesOrAlwaysDo, otherwiseDo = null, whenCanceledDo = null) {
    if (typeof GW.mediaQueryResponders == "undefined")
        GW.mediaQueryResponders = { };

    let mediaQueryResponder = (event, canceling = false) => {
        if (canceling) {
            GWLog(`Canceling media query “${name}”`, "media queries", 1);

            if (whenCanceledDo != null)
                whenCanceledDo(mediaQuery);
        } else {
            let matches = (typeof event == "undefined") ? mediaQuery.matches : event.matches;

            GWLog(`Media query “${name}” triggered (matches: ${matches ? "YES" : "NO"})`, "media queries", 1);

            if (otherwiseDo == null || matches) ifMatchesOrAlwaysDo(mediaQuery);
            else otherwiseDo(mediaQuery);
        }
    };
    mediaQueryResponder();
    mediaQuery.addListener(mediaQueryResponder);

    GW.mediaQueryResponders[name] = mediaQueryResponder;
}

/*  Deactivates and discards an active media query, after calling the function
    that was passed as the whenCanceledDo parameter when the media query was
    added.
    */
function cancelDoWhenMatchMedia(name) {
    GW.mediaQueryResponders[name](null, true);

    for ([ key, mediaQuery ] of Object.entries(GW.mediaQueries))
        mediaQuery.removeListener(GW.mediaQueryResponders[name]);

    GW.mediaQueryResponders[name] = null;
}

/*****************/
/* NOTIFICATIONS */
/*****************/
/*  Options object may have members:

        `once` (boolean; does the handler get removed after being called?)
        `phase` (string; in [e.g. "rewrite"], before [e.g. "<rewrite"], or after
                 [e.g. ">rewrite"] which phase of that event’s handlers does the
                 given handler get called?)
    */
GW.notificationCenter = {
    eventHandlers: { },
    handlerPhaseOrders: {
        "GW.contentDidLoad": [ "rewrite", "eventListeners" ]
    },
    addHandlerForEvent: (eventName, f, options = { }) => {
        if (GW.notificationCenter.eventHandlers[eventName] == null)
            GW.notificationCenter.eventHandlers[eventName] = [ ];

        let handlers = GW.notificationCenter.eventHandlers[eventName];
        if (handlers.findIndex(handler => handler.f == f) !== -1)
            return;

        let insertAt = handlers.length;

        let phaseOrder = GW.notificationCenter.handlerPhaseOrders[eventName];
        if (phaseOrder)
            options.phase = (options.phase || "");
        if (options.phase && phaseOrder) {
            let targetPhase = options.phase.match(/^([<>]?)(.+)/)[2];
            let targetPhaseOrder = defval(phaseOrder.length, phaseOrder.indexOf(targetPhase), -1);

            let phaseAt = (index) => {
                if (index >= handlers.length) return null;
                let parts = handlers[index].options.phase.match(/^([<>]?)(.+)/);
                return {
                    phase: parts[2],
                    before: (parts[1] == "<"),
                    after: (parts[1] == ">")
                };
            };

            if (options.phase.startsWith("<")) {
                for (var i = 0; i < handlers.length; i++) {
                    if (phaseAt(i).phase == targetPhase && !phaseAt(i).before)
                        break;
                    if (phaseOrder.slice(targetPhaseOrder + 1).includes(phaseAt(i).phase))
                        break;
                }
                insertAt = i;
            } else if (options.phase.startsWith(">")) {
                for (var j = handlers.length - 1; j > -1; j--) {
                    if (phaseAt(j).phase == targetPhase) {
                        j++;
                        break;
                    }
                    if (phaseOrder.slice(0, targetPhaseOrder - 1).includes(phaseAt(j).phase)) {
                        j++;
                        break;
                    }
                }
                insertAt = j;
            } else {
                for (var k = 0; k < handlers.length; k++) {
                    if (phaseAt(k).phase == targetPhase && phaseAt(k).after)
                        break;
                    if (phaseOrder.slice(targetPhaseOrder + 1).includes(phaseAt(k).phase))
                        break;
                }
                insertAt = k;
            }
        }

        GW.notificationCenter.eventHandlers[eventName].splice(insertAt, 0, { f: f, options: options });
    },
    removeHandlerForEvent: (eventName, f, options = { }) => {
        if (GW.notificationCenter.eventHandlers[eventName] == null)
            return;

        GW.notificationCenter.eventHandlers[eventName].removeIf(handler => handler.f == f);
    },
    removeAllHandlersForEvent: (eventName) => {
        GW.notificationCenter.eventHandlers[eventName] = null;
    },
    fireEvent: (eventName, eventInfo) => {
        /*  The ‘16’ here is the width of the date field plus spacing.
            The “Source:” text is manually padded to be as wide as “[notification]”.
            */
        GWLog(`Event “${eventName}” fired.` + `${(
            (eventInfo && eventInfo.source)
            ? ("\n" + "".padStart(16, ' ') + "       Source:".padEnd(GW.logSourcePadLength, ' ') + eventInfo.source)
            : ""
        )}`, "notification");

        if (GW.notificationCenter.eventHandlers[eventName] == null)
            return;

        for (let i = 0; i < GW.notificationCenter.eventHandlers[eventName].length; i++) {
            let handler = GW.notificationCenter.eventHandlers[eventName][i];
            if (handler.options.condition && !handler.options.condition(eventInfo))
                continue;
            handler.f(eventInfo);
            if (handler.options.once) {
                GW.notificationCenter.eventHandlers[eventName].splice(i, 1);
                i--;
            }
        }
    }
};

/****************/
/* SCROLL STATE */
/****************/

GW.scrollState = {
    lastScrollTop:              window.pageYOffset || document.documentElement.scrollTop,
    unbrokenDownScrollDistance: 0,
    unbrokenUpScrollDistance:   0
};

function updateScrollState(event) {
    GWLog("updateScrollState", "gw.js", 3);

    let newScrollTop = window.pageYOffset || document.documentElement.scrollTop;
    GW.scrollState.unbrokenDownScrollDistance = (newScrollTop > GW.scrollState.lastScrollTop)
        ? (GW.scrollState.unbrokenDownScrollDistance + newScrollTop - GW.scrollState.lastScrollTop)
        : 0;
    GW.scrollState.unbrokenUpScrollDistance = (newScrollTop < GW.scrollState.lastScrollTop)
        ? (GW.scrollState.unbrokenUpScrollDistance + GW.scrollState.lastScrollTop - newScrollTop)
        : 0;
    GW.scrollState.lastScrollTop = newScrollTop;
}
addScrollListener(updateScrollState, "updateScrollStateScrollListener");

/*  Toggles whether the page is scrollable.
    */
function isPageScrollingEnabled() {
    return !(document.documentElement.classList.contains("no-scroll"));
}
function togglePageScrolling(enable) {
    if (typeof enable == "undefined")
        enable = document.documentElement.classList.contains("no-scroll");

    let preventScroll = (event) => { document.documentElement.scrollTop = GW.scrollState.lastScrollTop; };

    if (enable && !isPageScrollingEnabled()) {
        document.documentElement.classList.toggle("no-scroll", false);
        removeScrollListener("preventScroll");
        addScrollListener(updateScrollState, "updateScrollStateScrollListener");
    } else if (!enable && isPageScrollingEnabled()) {
        document.documentElement.classList.toggle("no-scroll", true);
        addScrollListener(preventScroll, "preventScroll");
        removeScrollListener("updateScrollStateScrollListener");
    }
}

/******************/
/* BROWSER EVENTS */
/******************/

GW.DOMContentLoaded = false;

GWLog("document.readyState." + document.readyState, "browser event");
window.addEventListener("DOMContentLoaded", () => {
    GWLog("window.DOMContentLoaded", "browser event");
    GW.DOMContentLoaded = true;
    GW.notificationCenter.fireEvent("GW.contentDidLoad", {
        source: "DOMContentLoaded",
        document: document.firstElementChild,
        isMainDocument: true,
        needsRewrite: true,
        clickable: true,
        collapseAllowed: true,
        isCollapseBlock: false,
        isFullPage: true,
        location: new URL(location.href),
        fullWidthPossible: true
    });
});
window.addEventListener("load", () => {
    GWLog("window.load", "browser event");
});
document.addEventListener("readystatechange", () => {
    GWLog("document.readyState." + document.readyState, "browser event");
});
</script>
<script>
/*	This code is part of darkmode.js by Said Achmiz.
	See the file `darkmode.js` for license and more information.
	*/

/*	Dark mode: before anything else loads, check browser localStorage for dark 
	mode preference and immediately toggle sets of CSS color variables/classes 
	to avoid any 'flash of white' or delayed loading. Note: CSS falls back to 
	the media-query browser/OS variable preference, so still works if JS is 
	blocked! (The JS is only necessary for the theme switcher widget allowing 
	'force light'/'force dark' options. If users block JS, set the dark mode 
	preference, and are unhappy when they get dark mode, well, they made their 
	bed and must lie in it.)
	*/

/*  Set specified color mode (auto, light, dark).
    */
function setMode(modeOption) {
    GWLog("setMode", "darkmode.js", 1);

    // Inject the appropriate styles.
    let darkModeStyles = document.querySelector("#inlined-dark-mode-styles, #dark-mode-styles");
    if (darkModeStyles == null) return;
    if (modeOption == 'auto') {
        darkModeStyles.media = "all and (prefers-color-scheme: dark)";
    } else if (modeOption == 'dark') {
        darkModeStyles.media = "all";
    } else {
        darkModeStyles.media = "not all";
    }

    // Update selector state.
    if (window.updateModeSelectorState)
	    updateModeSelectorState();
}

// Get saved mode setting (or default).
let currentMode = localStorage.getItem("selected-mode") || 'auto';

// Activate saved mode.
setMode(currentMode);
</script>


    <!-- fetch the title & body fonts immediately to avoid re-rendering -->
    <link rel="preload" href="/static/font/ssp/SourceSansPro-BASIC-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/static/font/ssfp/SourceSerifPro-BASIC-Bold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/static/font/ssfp/SourceSerifPro-BASIC-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/static/font/ssfp/SourceSerifPro-BASIC-RegularItalic.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <!-- Full font CSS is loaded in footer. Here, inline only the minimal set of font CSS needed for initial screen, for speed: -->
    <style>
    @font-face {
        font-family: 'Source Serif Pro';
        font-weight: 400;
        font-style: normal;
        src: url('/static/font/ssfp/SourceSerifPro-BASIC-Regular.ttf') format('truetype');
        unicode-range: U+0020-007E, U+2010, U+2013-2014, U+2018-2019, U+201C-201D;
        font-display: swap
    }
    @font-face {
        font-family: 'Source Serif Pro';
        font-weight: 400;
        font-style: italic;
        src: url('/static/font/ssfp/SourceSerifPro-BASIC-RegularItalic.ttf') format('truetype');
        unicode-range: U+0020-007E, U+2010, U+2013-2014, U+2018-2019, U+201C-201D;
        font-display: swap;
    }
    @font-face {
        font-family: 'Source Serif Pro';
        font-weight: 600;
        font-style: normal;
        src: url('/static/font/ssfp/SourceSerifPro-BASIC-Semibold.ttf') format('truetype');
        unicode-range: U+0020-007E, U+2010, U+2013-2014, U+2018-2019, U+201C-201D;
        font-display: swap
    }
    @font-face {
        font-family: 'Source Serif Pro';
        font-weight: 700;
        font-style: normal;
        src: url('/static/font/ssfp/SourceSerifPro-BASIC-Bold.ttf') format('truetype');
        unicode-range: U+0020-007E, U+2010, U+2013-2014, U+2018-2019, U+201C-201D;
        font-display: swap
    }

    @font-face {
        font-family: 'Source Sans Pro';
        font-weight: 400;
        font-style: normal;
        src: url('/static/font/ssp/SourceSansPro-BASIC-Regular.ttf') format('truetype');
        unicode-range: U+0020-007E, U+2010, U+2013-2014, U+2018-2019, U+201C-201D;
        font-display: swap
    }
    @font-face {
        font-family: 'Source Sans Pro';
        font-weight: 400;
        font-style: italic;
        src: url('/static/font/ssp/SourceSansPro-BASIC-RegularItalic.ttf') format('truetype');
        unicode-range: U+0020-007E, U+2010, U+2013-2014, U+2018-2019, U+201C-201D;
        font-display: swap
    }
    @font-face {
        font-family: 'Source Sans Pro';
        font-weight: 700;
        font-style: normal;
        src: url('/static/font/ssp/SourceSansPro-BASIC-Bold.ttf') format('truetype');
        unicode-range: U+0020-007E, U+2010, U+2013-2014, U+2018-2019, U+201C-201D;
        font-display: swap
    }
    </style>

    
    <!-- JS library for Tufte-style 'sidenotes' (footnotes popped into the left & right margins on sufficiently-wide screens); much more convenient than floating footnotes & endnotes -->
    <script src="/static/js/sidenotes.js" async></script> <!-- since sidenotes visibly render, unlike the other JS libs, we prioritize its loading in the head -->
    
    <!-- Hint at necessary third-party domains -->
    <link rel="preconnect" href="https://www.googletagmanager.com">

    
    <meta name="title" content="从金本位到区块链">
    <meta name="citation_title" content="从金本位到区块链">
    <meta name="og:title" content="从金本位到区块链">
    <meta name="twitter:title" content="从金本位到区块链">
    
    <meta name="generator" content="https://github.com/v2eth/v2eth.com/">
    <meta name="creator" content="v2eth.com">
    
    <meta name="author" content="Mako Shan">
    <meta name="citation_author" content="Mako Shan">
    
    <meta name="contact" content="https://wiki.v2eth.com/Links#contact">
    <link rel="index" title="v2eth.com" href="https://wiki.v2eth.com/index">
    <meta name="twitter:creator" content="v2eth">
    <meta name="twitter:site" content="v2eth.com">
    <meta name="og:site" content="v2eth.com">
    <meta name="og:type" content="article">
    <meta name="description" content="研究货币的起源和未来">
    <meta name="og:description" content="研究货币的起源和未来">
    <meta property="og:image" content="https://wiki.v2eth.com/static/img/logo/logo-whitebg-large-border.png">
    
    <meta name="keywords" content="blockchain">
    <meta name="dc.date.issued" content="2020-08-20 16:58">
    <meta name="citation_publication_date" content="2020-08-20 16:58">
    <meta name="dcterms.modified" content="2022-02-08">
    <link rel="schema.dcterms" href="https://dublincore.org/specifications/dublin-core/dcmi-terms/">
    <meta name="dcterms.rights" content="CC PD-0">
    <meta name="dc.rights" content="https://creativecommons.org/publicdomain/zero/1.0/">
    <link rel="canonical" href="https://wiki.v2eth.com/blockchain/sound-money">
    <meta name="citation_fulltext_html_url" content="https://wiki.v2eth.com/blockchain/sound-money">
    <meta name="og:url" content="https://wiki.v2eth.com/blockchain/sound-money">
    <meta name="page-source" content="https://wiki.v2eth.com/blockchain/sound-money.page">
    <meta name="citation_fulltext_world_readable" content>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">

    <title>从金本位到区块链 · v2eth.com</title>

    <link rel="icon" type="image/png" href="/static/img/logo/logo-favicon-small.png" />
    <link rel="apple-touch-icon" type="image/png" href="/static/img/logo/logo-favicon-appletouch.png">
  </head>
  <body class="blockchain-sound-money drop-caps-kanzlei">

    <main>
      <div id="sidebar">
        <a id="logo" rel="home me contents" href="/" title="Homepage: categorized list of articles index">
          <svg viewBox="0 0 64 75" alt="v2eth.com Site Logo (a Gothic/Fraktur blackletter capital G)">
              <use href="/static/img/logo/logo-smooth.svg#logo" />
          </svg>

        </a>
        <div id="sidebar-links">
        <a class="site" href="/About" title="Site ideals, source, content, traffic, examples, license" rel="author">Site</a>
        <a class="links" href="/Links" title="Who am I online, what have I done, what am I like? Contact information; sites I use; things I&#39;ve worked on" rel="author">Links</a>
        <a class="new" href="/Changelog" title="Changelog of what&#39;s new or updated">Changes</a>
        <a class="mail" href="https://v2eth.substack.com/" title="Monthly mailing list: newsletter signup form" rel="me">Newslatter</a>
        <a class="mail" href="https://v2eth.com/" title="Monthly mailing list: newsletter signup form" rel="me">News</a>

        <a class="patreon" href="https://www.patreon.com/v2eth" title="Link to Patreon donation profile to support my writing" rel="me">support on<br><span>PATREON</span></a>
        </div>
      </div>

      <header>
        <h1>货币的历史</h1>
      </header>

      <article> 
        <div id="page-metadata">
          <p> 
            <span id="page-description" title="Short description of page.">研究货币的起源和未来</span><br />
            <span id="page-tags" title="List of tags for this page."><em><a title="All pages tagged &#39;blockchain&#39;." href="/tags/blockchain">blockchain</a></em></span>
            <br />
            <span id="page-metadata-block">
              
              <span id="page-date-range"><span id="page-creation" title="Date page contents were begun."><em>2020-08-20 16:58</em></span>–<span id="page-source"><a title="Link to latest revision of the raw Markdown text source for this page, &#39;货币的历史&#39;: /blockchain/sound-money.page" href="/blockchain/sound-money.page"><span id="page-modified" title="Date of last major modification to this page."><em>2022-02-08</em></span></a></span></span>
              <span id="page-status" title="Writing status of current page: ranges &#39;abandoned&#39;/&#39;notes&#39;/&#39;draft&#39;/&#39;in progress&#39;/&#39;finished&#39;"><em>in progress</em></span>
              <span id="page-confidence"><a href="/About#confidence-tags" title="Explanation of &#39;confidence&#39; metadata: probability of overall being meaningfully correct, expressed as Kesselman Estimative Words (ranging 0–100%: &#39;certain&#39;/&#39;highly likely&#39;/&#39;likely&#39;/&#39;possible&#39;/&#39;unlikely&#39;/&#39;highly unlikely&#39;/&#39;remote&#39;/&#39;impossible&#39;)">certainty</a>: <em>possible</em></span>
              <span id="page-importance"><a href="/About#importance-tags" title="Explanation of &#39;importance&#39; metadata: rating 1–10 about how much a topic matters to the world.">importance</a>: <em>4</em></span>
              <span class="backlinks"><a id="backlink" href="/metadata/annotations/backlinks/%252Fblockchain%252Fsound-money.html" title="Reverse citations/backlinks/&#39;What links here&#39;/&#39;incoming link&#39;/&#39;inbound link&#39;/inlink/&#39;inward link&#39;/citation for this page (the list of other pages which link to this page).">backlinks</a></span>
            </span>
          </p>
          <hr>
        </div>

        <noscript><div id="noscriptWarning" class="admonition warning"><div class="admonition-title">JS Disabled</div> For support of <a href="/Design" title="About: v2eth.com Design: principles, features, links, tricks">website features</a> (table-sorting/collapsible-sections/image-zooms/link-annotations/floating-footnotes/Disqus-comments), please enable JavaScript.</div></noscript>
        

        <div id="TOC"><ul>
<li><a href="#货币的起源"><span>货币的起源</span></a>
<ul>
<li><a href="#商品货币"><span>商品货币</span></a></li>
<li><a href="#礼物经济"><span>礼物经济</span></a></li>
<li><a href="#收藏品"><span>收藏品</span></a></li>
</ul></li>
<li><a href="#货币形式的演进"><span>货币形式的演进</span></a></li>
<li><a href="#金银货币"><span>金银货币</span></a>
<ul>
<li><a href="#纸币"><span>纸币</span></a></li>
<li><a href="#世界货币"><span>世界货币</span></a></li>
<li><a href="#电子货币"><span>电子货币</span></a></li>
</ul></li>
<li><a href="#货币的本质"><span>货币的本质</span></a>
<ul>
<li><a href="#一般等价物"><span>一般等价物</span></a></li>
<li><a href="#债"><span>债</span></a></li>
</ul></li>
<li><a href="#sound-money"><span>Sound Money</span></a>
<ul>
<li><a href="#比特币是更好的货币吗"><span>比特币是更好的货币吗？</span></a></li>
</ul></li>
<li><a href="#参考"><span>参考</span></a></li>
</ul></div>
<div id="markdownBody" class="markdownBody"><p>2008年，美国房地产次贷危机导致全球金融危机，银行倒闭，国家超发货币拯救市场，就在这样全球金融混乱的背景下，有一位叫做中本聪的匿名程序员，在 <a href="http://metzdowd.com/">metzdowd.com</a> 的密码学邮件列表上发表了一份白皮书，描述了一种 P2P 的电子现金系统，称为 Bitcoin。</p>
<p>中本聪实现了比特币第一个版本，并在比特币上线的第一个区块，将当天泰晤士报<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>的一条报道标题永久的写入区块 - <a href="https://www.thetimes03jan2009.com/">The Times 03/<wbr>Jan/<wbr>2009 Chancellor on brink of second bailout for banks</a>(财政大臣处于第二次援助银行的边缘)。于此呼应比特币采用 2100万固定上限，不能超发。</p>
<p>我们不禁要问，比特币是未来的货币吗？经过超过 10 年的发展，为什么比特币为代表的加密货币并没有得到主流认可使用，如果回顾历史，我们现在用的货币，是如何一步一步变成人类生活不可缺少的一部分。</p>
<p>在讲这些逻辑之前，我们首先要了解货币是怎么来的？</p>
<section id="货币的起源" class="level2">
<h2><a href="#货币的起源" title="Link to section: § &#39;货币的起源&#39;">货币的起源</a></h2>
<p>货币的发明是早于文字，所以关于货币的起源，很多是基于猜想和逻辑推理。</p>
<section id="商品货币" class="level3">
<h3><a href="#商品货币" title="Link to section: § &#39;商品货币&#39;">商品货币</a></h3>
<p>关于货币的起源，从古典经济学家都是认为货币起源于以物易物，这一想法可以追溯到亚里士多德和亚当.斯密，亚当斯密认为，劳动分工导致了更细分工具的出现，因而货币的出现就成为必要，以促进原来有复杂的交易活动。奥派经济学家认为货币的起源是<em>自发的，</em>最初货币是一种交换媒介的商品，最终销性程度高的商品成为了货币。</p>
<p>有这样的一个典型的场景：</p>
<ul>
<li>一个农民正和小镇里的铁匠、裁缝、杂货店店主及医生进行以物易物的交易。但是，为了实现以物易物，必须满足需求的双重匹配……亨利想用自己的土豆换鞋子，乔舒亚想用一双额外的鞋子换土豆，那么以物易物的交易将使双方都感到满意。但是，如果亨利有木柴，而乔舒亚并不需要木柴，那么为了完成交易，就需要更多的人参与交易，采用多方交易的形式让亨利能够得到乔舒亚的鞋子。</li>
</ul>
<p>以物易物也非常低效，因为它需要需求的双重巧合。通常在这种情况下，一些商品会主导贸易，比如小麦，如果这种商品很普遍，它将有效地采取货币的形式。这个想法产生了<strong>商品货币</strong>。货币大大简化了多方交易的过程。亨利可以通过出售木柴换取货币，然后用货币购买乔舒亚的鞋子。</p>
</section>
<section id="礼物经济" class="level3">
<h3><a href="#礼物经济" title="Link to section: § &#39;礼物经济&#39;">礼物经济</a></h3>
<p>有另一派的人类学家，并不这样看，他们认为货币起源熟人社会的债，礼物经济。</p>
<p>同样的场景：</p>
<ul>
<li>亨利走向乔舒亚，说：“这双鞋真棒！”乔舒亚说：“哦，其实不怎么好。但是既然看起来你很喜欢，那就拿去吧。”亨利拿走了鞋。亨利的土豆没派上用场，因为双方都非常清楚，如果乔舒亚有需要土豆的那一天，亨利一定会给他一些。</li>
</ul>
<p>在这个场景下“需求的双重巧合”消失了。亨利也许当时并没有乔舒亚想要的东西。但是如果这两个人是邻居，很明显，乔舒亚想要亨利的某个东西，只会是时间长短的问题。</p>
<p>在这个场景下，亨利是“欠乔舒亚一个人情”，如何衡量人情，你可以说多少土豆等价于一双鞋，在这种礼物经济都是粗略估计，但这个情况下，也是充当了价值制度这个意义。</p>
<p>礼物经济有自己独特的礼仪和规矩，通常三个环节：给与、获得、反馈，构成了礼物经济的循环。与货币借贷类似，还礼是一种义务，这种义务似乎就是利息的雏形。</p>
<p>无论是收到礼物还是借贷货币，对于得到者来说都是欠下了一个人情或者债务。</p>
<p>大约在公元前 5000 年前的农业社会，使用礼物这样没有利息的债务是很常见的。同时也出现了有利息的债务，贫困的农民向别人借来种子、谷物或者耕牛，偿还债务的时候附件利息，即是他们收获物。</p>
<p>在这样的情况下，并非所有交易都是立即完成，我们会相互帮助，会记下谁欠我们的情，这样的债务的出现要远早于铸币的出现，货币不一定是商品，不一定是一般等价物，我们可以交易某种本身不具有内在价值的物品，这样的物品充当了价值的象征。</p>
<p>但是非正式的信用系统并不能扩展到城市，因为城市不可能让每个人都认识每个人。为了协调更大的社会，最终还是需要一个更加成熟的货币体系。</p>
</section>
<section id="收藏品" class="level3">
<h3><a href="#收藏品" title="Link to section: § &#39;收藏品&#39;">收藏品</a></h3>
<p>货币的起源是商品还是信用，目前还是没有定论。但是可以明确货币的诞生，并非为了消除邻里之间进行以物易物时所遇到的不便-因为邻里之间根本没有理由进行以物易物，但在小团队之外，与其他村落交换，我们还是需要一种媒介。</p>
<p>第一个观察到的原始货币以收藏品的形式出现。收藏品是小的，主要是同质的物品，如贝壳或珠子。收藏品往往经久耐用，易于存放或隐藏在个人身上，难以找到或伪造，并且易于评估价值。与牛等许多商品货币形式相比，这使它们成为更强大的货币形式。</p>
<p>采用收藏品作为耐用货币在人类进化中至关重要。部落通常专注于狩猎特定物种，但由于动物迁徙，特定部落在一年中的某些时候可能很少有食物。通过在猎物淡季时搜寻收藏品，他们可以与猎物处于旺季因而食物过剩的其他部落进行交易。通过收藏品的交易，食物可以更均匀地分布在时间里，所有部落的生活都会变得更好。</p>
</section>
</section>
<section id="货币形式的演进" class="level2">
<h2><a href="#货币形式的演进" title="Link to section: § &#39;货币形式的演进&#39;">货币形式的演进</a></h2>
<p>上文我们讲了没有文字记录的货币形式，最早有文字记录的货币是怎样的呢？</p>
<p>早在公元前 3200年，真正的城市开始诞生和发展，人类最早的锲形文字也是在这一时期被苏美尔人发明出来，而有意思的发现，锲形文字不少与货币有关的记录。</p>
<p>比如：公元前21世纪末，乌尔纳姆国王颁布了《乌尔纳姆法典》，主要内容是对奴隶制度、婚姻、家庭、继承、刑罚等方面的规定。如：若有人绑架了别人，应该入狱和支付15迈纳的银。</p>
<p>根据这些法律条文规定和文字记录，货币史学家认为，银应该是4000年前苏美人社会的货币。主要是称量白银，使用的单位是谢克尔和迈纳。</p>
<p>人们还规定，重量等于 1 歇尔克的银，1 普耳市大米，神庙的劳动者报酬是两份大米，从这一点可以看出，货币这时候的货币实际上是国家创造，为了记录资源的分配。</p>
<p>尽管在苏美尔人社会中，谢克尔银即是债务清偿手段，也是支付手段，更有价值贮藏的功能，但是，银在苏美尔那里并没有广泛流通，而是被小心地被存在神庙的金库中，而只是作为一种记账货币。更多的是使用小麦支付债务。</p>
</section>
<section id="金银货币" class="level2">
<h2><a href="#金银货币" title="Link to section: § &#39;金银货币&#39;">金银货币</a></h2>
<p>在小型的农业社会，只要每个人愿意接受，任何东西都可以成为货币，但复杂的城市社会，单一的商品或者信用是无法满足的，因为纯粹由信用货币的体系存在问题，因为信用货币的基础是信用，但在竞争市场，信用是稀缺商品，尤其是陌生人之间。 金银本身是具有价值的商品，同时被印上国家权威的信用标志，价值会变得更高，金银货币完美的完美的包含了货币的两种属性。 同时相比其他的收藏品相比，金银： - 具有稀缺 - 耐用且不易腐蚀 - 很难伪造 - 易分割</p>
<p>这些特性让金银货币在当时成为主流。 金属货币也存在问题，每次使用需要称重或分割，当然比牛更方便。这个情况是需要铸币术，将金属铸成重量固定的硬币，最早铸币术发明要归功于离底亚国王。公元前 640年， 吕底亚王国铸造出史上第一批硬币。</p>
<figure>
<img alt="吕底亚王国珀金币" decoding="async" height="465" loading="lazy" sizes="(max-width: 768px) 100vw, 930px" src="/images/blockchain/lydia-coin.png" srcset="/images/blockchain/lydia-coin.png-768px.png 768w, /images/blockchain/lydia-coin.png 930w" width="930" /><figcaption aria-hidden="true">吕底亚王国珀金币</figcaption>
</figure>
<p>在吕底亚之后，硬币铸造在希腊、西西里和意大利广泛使用。大部分的希腊城邦会铸造自己的硬币。并认为是独立的象征，铸币也可以理解成为一种权力。</p>
<p>大卫·格雷伯等人类学家推测铸币的出现为了满足战争扩充军队的需求，与信用货币不一样，在充满暴力威胁的时期是金银货币的天下，因为士兵远行，需要认可度更高的货币，对于金银货币来说，即使交易对手不承认货币的主权，他们仍然愿意对货币本身的金银进行估价。</p>
<section id="纸币" class="level3">
<h3><a href="#纸币" title="Link to section: § &#39;纸币&#39;">纸币</a></h3>
<p>可以想象大额金银货币便携性不够好，如何保留金银货币优点，还可以增加便携性，于是人们发明了纸币。</p>
<p>首先，纸币的发明离不开造纸和印刷术。东汉蔡伦改进造纸方法，使得纸张进入全面实用的阶段。印刷术始于东晋时期，在唐朝发展为成熟的雕版印刷技术，宋代毕昇发明了更加便利的活字印刷术。</p>
<p>当纸币的先决条件都满足了，宋朝成为第一个发行纸币的国家，纸币盛行的原因，当时商品经济盛行，出现钱荒。公元 1000 年左右，北宋缺少铜钱的四川一些商户开始印制并发行交子(纸币)。到了公元 1023年，北宋把纸币发行权收归政府独有。交子原先仅在四川使用，后逐步扩大到全国。交子先是用铁钱做储备金，后来有改用白银做储备金。</p>
<figure>
<img alt="现存最早的纸币元钞" decoding="async" height="1400" loading="lazy" sizes="(max-width: 768px) 100vw, 1080px" src="/images/blockchain/yuanchao.png" srcset="/images/blockchain/yuanchao.png-768px.png 768w, /images/blockchain/yuanchao.png 1080w" width="1080" /><figcaption aria-hidden="true">现存最早的纸币元钞</figcaption>
</figure>
<p>1279年，南宋被灭，元朝统一中国，同样的，元朝也发行了被称为中统钞的纸币，白银做储备金，同时还规定这种纸币是全国唯一可以被接受的货币，伪造者将被处死。</p>
<p>可以说中国发明了最早的法定货币（Fiat Currency），主要原因中国建立起一个集权和强大到足以对国内经济实施自上而下控制的政府。</p>
<p>十三世纪意大利人马可·波罗撰写<a href="https://book.douban.com/subject/1164124/">《马可·波罗游记》</a>时，详细介绍了元朝纸币印制工艺和发行流通的情况，并称之为炼金术的秘密。由此，欧洲人了解了纸币。</p>
<p>欧洲人在公元1600年之前仍然使用硬币，从殖民地获取的贵金属用来铸造更多硬币，最早受中国的影响发行纸币的是瑞典，1661年，若昂·帕默斯特罗创办第一家瑞典银行，即斯德哥尔摩银行，并发行纸币，币值由存储的等额铸币作担保。很快因为超发过量纸币，若昂·帕默斯特罗差点被处死。</p>
<p>公元 1694年，为了英法战争筹款，英国国会批准，以民间出资私营方式创立中央银行-英格兰银行<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>，并发行纸币。</p>
<p>银行开始向存款人和贷款人发行票据，这种票据更适合随身携带。票据随时可以拿到银行兑换同等价值的金币或银币。纸币可以用来购买商品，使用方法和现在的货币很像，不过当时它是由银行和私有机构发行的，而非政府。</p>
<p>随着时间的推移，由于技术进步和更发达的官僚机构，政府获得对国内经济的更多控制。伴随着这种控制，国家发行货币变为主流</p>
</section>
<section id="世界货币" class="level3">
<h3><a href="#世界货币" title="Link to section: § &#39;世界货币&#39;">世界货币</a></h3>
<p>世界货币是在国际商品流通中发挥一般等价物作用的货币。在历史上随着各国贸易的发展，中世纪以后，黄金逐渐取得世界货币的垄断地位。19世纪，由于英国国力强盛、货币币值稳定，英镑成为了第一种非金银的世界货币。</p>
<p>二战后《布雷顿森林协定》的签署，确立了以美元为国际储备货币的<a href="https://baike.baidu.com/item/%E5%9B%BD%E9%99%85%E9%87%91%E8%9E%8D%E4%BD%93%E7%B3%BB">国际金融体系</a>：世界上所有主要大国都将本国货币对美元的汇率固定为固定汇率，美元本身与黄金挂钩，从此美元成为世界货币。</p>
<p>1970 年代，在美国经济蓬勃发展和政府在越南战争上增加支出的情况下，美联储印制的美元比黄金支持的还要多。这使得美元在布雷顿森林体系下被高估。外国政府开始退出布雷顿森林体系，将多余的美元兑换成黄金，耗尽了美国的黄金储备。尼克松意识到，如果这种情况持续下去，就会引发一场危机。于是在1971年尼克松脱离布雷顿森林体系<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>，取消了美元对黄金的国际兑换，永久打破了金本位，将美元变成了纯法币。</p>
<p>快进到 21 世纪，自金本位制终结以来发生了很多事情。</p>
<p>2008 年，我们看到金融危机有可能摧毁全球银行体系。为了应对连锁银行倒闭，世界各国央行救助金融机构，大量印钞，并进行大规模资产购买操作——这种做法被称为<a href="https://en.wikipedia.org/wiki/Quantitative_easing" class="docMetadata">量化宽松</a>。。</p>
<p>2021年，新冠疫情全球爆发以来，美股连续数次熔断，美联储更是推出诸如利率降至为零、向市场注入近万亿流动性等“暴力”救市量化宽松政策。</p>
<p>有意思的是，在2008年金融危机的背景下诞生的比特币，在2021年金融风险再次来临的时候，比特币也是跌了很多，并没有起到储值的功能。</p>
<p>接下来要完全理解为什么会加密货币，我们不仅要关注货币，还要关注支付的历史，比特币出现之前货币是如何转移的。</p>
</section>
<section id="电子货币" class="level3">
<h3><a href="#电子货币" title="Link to section: § &#39;电子货币&#39;">电子货币</a></h3>
<p>自从货币出现以来，出现了许多促进货币支付的技术：纸币、支票（Check）、信用卡<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>。</p>
<p>我们上面已经介绍纸币，纸币和硬币一样也存在一些缺点，如果交易量巨大，携带麻烦。于是发明了支票，支票是向开户行发出的支付指令，要求银行将货币从你的账户转移到存入改支票的人的账户上，支票无需携带货币也可以完成交易，提升了支付体系效率。</p>
<p>支票可以互相抵消的支付便可通过冲销支票来清算，无需运送。大额交易更加便捷，也降低了失窃的风险，但是支票的运送需要时日，纸质支票的处理工作成本高。</p>
<p>随着价格低廉的计算机发展和互联网的普及，电子支付大大降低了支票运输和处理成本，电子货币即以电子形式存在，通过电子化方式支付的货币，是法定货币的虚拟化。最初的电子货币的主要形态是借记卡和信用卡。电子货币的出现节约了交易成本，提高了经济交易的效率和安全性。</p>
<p>随着手机的普及率，兴起了移动支付，像是支付宝或者 Apple Pay 也是依赖现有的信用卡(借记卡)支付网络。</p>
<p>以上电子货币更多是建立在现有货币之上，并没有产生新的货币形式，而且现有的电子货币与现金的点对点交易不同，电子货币支付依赖第三方中介来确认交易。</p>
<p>加密数字货币: - 于是，在2008年，中本聪发明了比特币，一种无需中介的点对点交易系统。 - 中本聪在非常彻底地证明和验证的基础上构建了比特币，免除了信任第三方的必要性。可以说，比特币运行的核心特征就是验证，因为只有人人都可以充分的验证，才能完全消除对信任的依赖。 - 但加密货币并符合大众对于货币功能的定义，因为没有得到主权国家的认可。</p>
</section>
</section>
<section id="货币的本质" class="level2">
<h2><a href="#货币的本质" title="Link to section: § &#39;货币的本质&#39;">货币的本质</a></h2>
<p>介绍完货币起源和演化过程，我们来看货币的本质到底是什么？</p>
<section id="一般等价物" class="level3">
<h3><a href="#一般等价物" title="Link to section: § &#39;一般等价物&#39;">一般等价物</a></h3>
<p>在以金银等金属铸造货币的时代，政治经济学者普遍把货币当作具有一般商品等价物功能的一种特殊商品。法国古典政治经济学家萨伊也明确指出：“货币，或有人把它称为铸币，是一种商品，其价值是由相同的一般法则所决定的，就和其他的商品一样。”</p>
<p>马克思也认为，货币天生不是金银，但金银天生是货币。</p>
<p>传统政治经济学家的货币商品说，不仅影响了后来中央计划经济国家里的马克思主义政治经济学，也影响了西方经济学的主流理论。</p>
</section>
<section id="债" class="level3">
<h3><a href="#债" title="Link to section: § &#39;债&#39;">债</a></h3>
<p>现代社会，经济越来越货币化，货币也越来越虚拟化。尤其是在1971年布雷顿森林体系崩溃后，美元带领全球货币集体脱离金属本位。到了20世纪80年代计算机网络形成后，货币越来越电脑数字化了，越来越成为一种记账和信用体系。货币甚至脱离了纸币符号，演变成一个与银行数据网络联结在一起的银行卡和储蓄账户中的纯电脑数字，货币的本质由此越来越清晰地呈现在世人面前。</p>
<p>如今很少有人再把货币作为一般商品等价物的一种特殊商品，世界上的货币已经越来越完全受控于各国中央银行的“管理”。黄金非货币化之后，货币与实际任何商品的最后一丝联系也被抛弃了。如今我们生活在纯粹“法定”记账单位的世界中，每个记账单位的价值唯一取决于对其负责的中央银行的相应政策以及人们对其信心。</p>
<p>在目前广泛使用的法定货币的角度下看，货币不是交换的一种商品媒介，而是由三种基本要素所构成的一套社会协作体系和公共产品：首先是由国家法律支持的一种抽象价值单位；其次是一个社会成员相互交易时跟踪和记录信用或债务余额的记账体系。</p>
<p>货币的本质看成一种可转让的债或可转让的信用。</p>
<p>如果货币仅仅是一种表征和信用体系，那么随着比特币背后区块链技术的进步和成熟，是否可以将国家权力的信用背书排除在货币体系之外？这一想法切合了奥地利经济学的健全货币理念。</p>
</section>
</section>
<section id="sound-money" class="level2">
<h2><a href="#sound-money" title="Link to section: § &#39;Sound Money&#39;">Sound Money</a></h2>
<p>奥迪经济学派的米塞斯给了健全货币<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>非常清晰的概括，健全货币原则有两个方面：</p>
<ol type="1">
<li>原则上使用的交易媒介应该是市场选择</li>
<li>尽可能避免政府干预货币体制</li>
</ol>
<p>米塞斯认为健全货币意指贵金属本位，因为金本位可以不依赖于政府而决定货币单位的购买力。与主流经济学不同，健全货币的主张不在于币值稳定，而在于能否削弱现代主流货币理论和政策导致的通货膨胀和通货紧缩的周期交替。</p>
<p>现在货币理论中的健全货币的思想最早出现在 16 世纪西班牙经院哲学家的著作中，他们反对国王借着伦理和经济的<span class="smallcaps-auto">幌子降低</span>铸币成色。</p>
<p>19 世纪初期，健全货币概念是 大卫. 李嘉图及其追随者金条党人论著的核心，这些人认为，拿破仑战争期间和战后不列颠的物价上涨，是由不列颠政府强制实施的停止用黄金白银承兑银行券引起的。金条党人的理想货币是一种自我调节的货币，即一种完全由市场供应力量控制其数量和价值以及国家之间分布的货币。</p>
<p>19世纪末，关于金银复本位制的论战中，出现了一种新的、更加成熟的反健全货币理论。主要国家都使用法定本位制度，停止白银的货币用途。一直到现在，健全货币理论已经被各个国家抛弃，目前各国国家采用法定货币，中央银行控制货币供给和利率，但这会带来问题，比如说<em>引发大萧条。</em></p>
<p>稳健货币一直被奥地利经济学派奉为自由市场经济中繁荣的社会和稳定的价格机制的必要先决条件。</p>
<p>哈耶克、米塞斯 和门格尔他们在详细阐述了经济周期繁荣与萧条的根本原因，因为自 1930 年代以来，通胀性货币政策一直在主导政府方向。</p>
<p>哈耶克甚至有先见之明地将 1984 年不受政府控制的一种新型货币描述为再次获得良好、稳健货币的唯一真正手段。哈耶克认为国家对货币发行的垄断应该扩展到私营公司——以促进竞争并让人们可以自由选择自己的货币.</p>
<p>从历史上看，黄金是最成熟的健全货币，直到2008年，比特币的发明，比特币继承了健全货币的想法，比特币是代表了数字时代的稳健货币，与金银货币相比，比特币非常年轻，但它是一种抗通胀、去中心化、高度可分割且可转移的新价值形式，只要有网络连接，全球任何地方都可以使用。</p>
<p>比特币满足健全货币的所有先决条件，同时加密货币的市场驱动价格符合哈耶克的愿景，即自由市场充当经济体中商品和服务价值的持续公投。</p>
<p>还有哈耶克的理论提倡去中心化、无需许可的节点网络，就像在区块链去中心化账本是一样的。可以说，加密货币代表了哈耶克关于货币系统的论文在现实世界中的实现。</p>
<section id="比特币是更好的货币吗" class="level3">
<h3><a href="#比特币是更好的货币吗" title="Link to section: § &#39;比特币是更好的货币吗？&#39;">比特币是更好的货币吗？</a></h3>
<p>比特币发明之前，此时支付方式分为两种截然不同的类别：</p>
<p>1.现金支付：现金支付由双方面对面完成，方便快捷，立刻完成，不需要任何一方的信任。缺点是需要当事双方亲自同时出现在同一地点。</p>
<p>2.中介支付<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>：中介支付需要一个可信第三方。例如信用卡或支付宝，第三方来处理交易双方资金转移。优点是交易双方不必同时出现在同一地点。缺点是，需要信任，有被第三方拖累的风险。</p>
<p>这两种支付方式各有优缺点，在经济交易中，大多数人会按当时需要选择较为适宜的支付方式。</p>
<p>在比特币发明之前，中介支付是主要的电子支付形式，因为在网络的数字对象可以无限复制，为了避免双花，电子支付都必须依靠中介。</p>
<p>在很多程序员多年尝试和失败的基础上，基于广泛的技术积累，比特币成为首个不依赖可信第三方的电子支付解决方案。作为首个可验证其稀缺性的数字对象。</p>
<p>中本聪发明比特币的动机，是想创建一种“纯粹点对点的电子现金形式”，在交易中不需要信任第三方，并且货币供给不会被任何人改变。</p>
<p>换句话说，比特币将实物现金支付的理想特性（不需中介，交易立达）带到数字领域。</p>
<p>自 2009 年推出以来，比特币风靡全球。2010 年，一个比特币价值 0.003 美元，而在 2021 年 4 月，比特币创下了近 60000 美元的历史新高，增长了近 200 百万倍。</p>
<p>这是一个惊人的故事。但比特币的故事不仅仅是关于价格：比特币的起源深深植根于意识形态。加密货币如何产生的另一个方面：来自密码朋克的亚文化。在下一篇文章，我会继续讲密码朋克和比特币之前的数字货币尝试。</p>
</section>
</section>
<section id="参考" class="level2">
<h2><a href="#参考" title="Link to section: § &#39;参考&#39;">参考</a></h2>
<ol type="1">
<li><a href="https://medium.com/our-new-nature/the-case-for-sound-currency-b52da8148131">The Case for Sound Currency</a></li>
<li><a href="https://nakamoto.com/a-brief-history-of-money/">A Brief History of Money</a></li>
<li><a href="https://www.money.org/money-museum/history-of-money">The history of money</a></li>
<li><a href="https://www.youtube.com/watch?v=yPIvqJsCOSo">Bitcoin: The New Gold Standard</a></li>
<li><a href="https://blockonomi.com/sound-money-bitcoin/">What is Sound Money? A Look at Bitcoin’s Emergence</a></li>
<li><a href="https://medium.com/galaxy-digital-research/on-sound-money-afc0619697b3">On Sound Money</a></li>
<li><a href="https://book.douban.com/subject/20272111/">《债：第一个5000年》大卫·格雷伯</a></li>
<li><a href="https://book.douban.com/subject/35178904/">《货币未来：从金本位到区块链》赛费迪安·阿莫斯</a></li>
<li><a href="https://book.douban.com/subject/35375504/">《货币：健全与非健全》约瑟夫・萨勒诺</a></li>
<li><a href="https://book.douban.com/subject/34807450/">《货币、权力与人》翟东升</a></li>
<li><a href="https://book.douban.com/subject/26950185/">《货币金融学》[美] 弗雷德里<span class="smallcaps-auto">克·S</span>.米什金</a></li>
<li><a href="https://book.douban.com/subject/30341977/">《货币与信用理论》路德维希·冯·米塞斯</a></li>
<li><a href="https://book.douban.com/subject/26772766/">《货币简史》卡比尔·塞加尔</a></li>
<li><a href="https://book.douban.com/subject/33464162/">《货币的非国家化》弗里德里希·冯·哈耶克</a></li>
<li><a href="https://book.douban.com/subject/35269253/">《经济学入门50讲》张是之</a></li>
</ol>
</section>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p>这里指英国政府为 挽 救国家金融体系免于崩溃所做的努力。当中本聪创造了前 50 个硬币，现在称为创世区块时，他将日期和标题永久嵌入到数据中。隐藏的文字是数字战斗口号。中本聪认为是时候做一些新的事情了：一种不受政府和中央银行控制的去中心化加密货币<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>英格兰银行成立后，在整个18世纪约有五分之四的业务及获利都与政府有关。它对政府提供贷款、为大部分政府机关管帐、负责管理国债，也发行钞票。因兼具私营及执行公权力的特质，它必须在民间股东将本求利的要求，以及必须照顾公众福利之间求取平衡。当时是属于黄金本位时代，民众保有随时以纸币兑换黄金的权利。虽然除英格兰银行外，民间银行亦得发行纸币，但英格兰银行较易取得民众的信心，故几乎包办了发行货币的业务。惟直到1844年的银行权利法案，方将货币发行权集中到英格兰银行，要求民间银行的货币发行权因任何理由到期，都得移转给英格兰银行。这些移转至1921年才全部完成，故英格兰自该年起才独自享有货币发行权。<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p>但由于美国国力强盛，及其在全球金融体系中的支配地位，国际上大多数结算和外汇储备仍然是美元。<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4" role="doc-endnote"><p>信用卡诞生于美国，最初以信用筹码的形式出现，1915年，美国的商店、饮食店、加油站为招徕顾客，扩大营业额，开始发放一种类似金属徽章的信用筹码，用于赊购商品，此为信用卡的雏形。<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5" role="doc-endnote"><p>健全货币一词起源于古罗马，在那里，小银币是日常商业活动的标准，无论是用于支付罗马士兵还是从已知世界的各个角落购买异国情调的商品。 随着罗马挥霍其财富，它找到了一条支撑国库的捷径。它逐渐用普通金属贬低那些银币，最终将银含量降低到大约 5%。这一举动并没有持续很长时间。可以理解的是，训练有素的罗马士兵不喜欢用毫无价值的神秘金属作为报酬，以换取在血腥战场上冒生命危险。结果，他们抵制了这些毫无价值的金属的使用，并开始掠夺剩余的可作为可交易商品的资源，直到罗马沦陷，其统治者将他们没收的资产转移到其他地方。<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6" role="doc-endnote"><p>历史上人们最看重的货币属性是可互换性和流动性。选择具有可互换性和流动性的货币，是因为人们想真正对自己的钱拥有主权，主权货币包含了所有使用它所需的许可，其他人也想要它，但不能对它施加控制。中介支付会损害一些理想的货币属性，在用实物现金交易的时候，原本不存在这些缺点。然而，由于现代电信的发展，远距离贸易和就业的增加，实物现金交易事实上越来越不具备可行性。<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div>

        <div id="navigation">
          <a id="navigation-previous" rel="prev" href="./blockchain/uniswap-social-money" title="Link to previous page by topic, ‘./blockchain/uniswap-social-money’">​<svg><use href="/static/img/icons/sequential-nav-icons-arabesque.svg#direction" /></svg></a><a id="navigation-center" title="Return to top of current page" href="#sidebar"><svg><use href="/static/img/icons/sequential-nav-icons-arabesque.svg#center" /></svg></a><a id="navigation-next" rel="next" href="./blockchain/gitcoin-grants" title="Link to next page by topic, ‘./blockchain/gitcoin-grants’"><svg><use href="/static/img/icons/sequential-nav-icons-arabesque.svg#direction" /></svg></a>  <!-- WARNING: We need empty (with a ZERO WIDTH SPACE inside them) links like <a>​</a> instead of self-closing <a/> links (which are valid) because otherwise mathjax-nodepage's mjpage function goes crazy & duplicates them. -->

        </div>

        <div id="footer">
          <p><a href="https://docs.google.com/forms/d/e/1FAIpQLScGVLJtSTK9IFYvEvjzUPwzcikPnYp8ll0XVRfujLqRc0tjPQ/viewform" title="Google Docs web form for submitting anonymized feedback to Mako Shan"><em>Submit Anonymous Feedback</em></a></p>
        </div>

      </article>
    </main>

        <!-- Load the rest of the CSS. Note that we do not need any JS hacks here: HTML allows <link> stylesheets in the body: https://html.spec.whatwg.org/multipage/links.html#body-ok https://jakearchibald.com/2016/link-in-body/ -->
    <link rel="stylesheet" type="text/css" href="/static/css/fonts.css?v=1613268818" />
    <link rel="stylesheet" type="text/css" href="/static/css/default.css?v=1624814591" />
    <link rel="stylesheet" type="text/css" href="/static/css/links.css?v=1626222333" />

    <!-- JS library for spawning popups -->
    <script src="/static/js/popups.js?v=1618840048" defer></script>
    <script src="/static/js/popins.js?v=1616706850" defer></script>
    <!-- JS library for annotating hyperlinks with introduction/summary from various sources; not lazy-loaded as (almost) all pages have popups -->
    <script src="/static/js/annotations.js?v=1618542577" defer></script>
    <script src="/static/js/extracts.js?v=1622423593" defer></script>
    <script src="/static/js/extracts-annotations.js?v=1623982889" defer></script>
    <script src="/static/js/extracts-content.js?v=1619226591" defer></script>
    <script src="/static/js/extracts-options.js?v=1616209452" defer></script>

    

    <!-- JS library for clickable/zoomable images, for images larger than can be displayed in -->
    <!-- the body: http://share.obormot.net/misc/gwern/image-focus.js http://share.obormot.net/misc/gwern/image-focus.css -->
    <!-- not lazy-loaded due to various bugs -->
    <script src="/static/js/image-focus.js?v=1611954378" defer></script>

    <!-- sort tables: http://tablesorter.com/docs/ ; requires JQuery, which has been prepended to avoid multiple JS page loads & race conditions -->
    <script>
    if (document.querySelector("table")) {
        var js = document.createElement("script");
        js.type = "text/javascript";
        js.src = "/static/js/tablesorter.js?v=1609212245";
        document.body.appendChild(js);
    }
    </script>

    

    <!-- Misc JS: 1. Collapsed sections: insert a toggle to expand them; 2. cover source-code block listings too (for large R sections especially); 3. type setting stuff -->
    <script src="/static/js/typography.js?v=1610806737" defer></script>
    <script src="/static/js/rewrite.js?v=1622403938" defer></script>
    <script src="/static/js/collapse.js?v=1611437420" defer></script>

    <!-- Dark Mode theme switcher (lets users toggle between regular black-on-white CSS, and dark mode) -->
    <script src="/static/js/darkmode.js?v=1624224901" defer></script>


    

    <script defer id="googleAnalytics" src="https://www.googletagmanager.com/gtag/js?id=UA-146834082-1" onload="GW.googleAnalyticsLoaded = true;"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-146834082-1');
    </script>

    <!-- Lazy load Disqus comments: define a function, check for IntersectionObserver support, & load once user hits sections at bottom of pages; lazy load the tablesorter, as tables are on only a very small subset of pages -->
    <div id="comments">
      <div id="disqus_thread"></div>
      <script>
        function dynamicallyLoadScript(url) {
            var script = document.createElement("script");
            script.src = url;
            document.head.appendChild(script);
        }

       var lazyLoadObserver = function(f, selectors) {
           if (('IntersectionObserver' in window) &&
               ('IntersectionObserverEntry' in window) &&
               ('intersectionRatio' in window.IntersectionObserverEntry.prototype)) {
                var intersectionObserver = new IntersectionObserver(function(entries) {
                     if (entries[0].intersectionRatio <= 0) return;

                     f();
               }, { rootMargin: '140%' } );

               var target = document.querySelector(selectors);
               if (!(target === null)) { intersectionObserver.observe(target); }
           }
           else { f(); }
       }

        var disqus_shortname = ''; // declare variable globally as a way to make sure insertDisqus runs once and only once
        var insertDisqus = function() {
        if (disqus_shortname == '') {
           disqus_shortname = 'v2eth';
           (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
           })();
        }
       }
      // 1. Load Disqus comments
      lazyLoadObserver(insertDisqus, '#disqus_thread');
      </script>

      <noscript><p>Enable JavaScript for Disqus comments</p></noscript>
    </div>
    

  </body>
</html>
